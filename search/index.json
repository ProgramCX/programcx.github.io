[{"content":"ä¸€ã€å¯ç”¨Windows Subsystem for Linux åœ¨Windows 10 21H2æˆ–æ›´é«˜ç‰ˆæœ¬ä¸Šï¼Œå¯ç”¨Windows Subsystem for Linuxã€‚\næ‰“å¼€æ§åˆ¶é¢æ¿ã€‚ é€‰æ‹©â€œç¨‹åºå’ŒåŠŸèƒ½â€ã€‚ é€‰æ‹©â€œå¯ç”¨æˆ–å…³é—­WindowsåŠŸèƒ½â€ã€‚ å‹¾é€‰â€œé€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿâ€ã€‚ é‡æ–°å¯åŠ¨è®¡ç®—æœºã€‚ äºŒã€å®‰è£…Ubuntu 22.04 é‡æ–°å¯åŠ¨åï¼Œä¼šå¼¹å‡ºä¸€ä¸ªæç¤ºæ›´æ–°çš„çª—å£ï¼ŒæŒ‰Enteré”®ç­‰å¾…æ›´æ–°å®Œæˆã€‚\n1.æ‰“å¼€PowerShellï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…Ubuntu 22.04ï¼š\n1 2 wsl --set-default-version 2 wsl --install -d Ubuntu 2.ç­‰å¾…å®‰è£…å®Œæˆï¼ŒæŒ‰ç…§æç¤ºè®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚\n3.æ­¤æ—¶ï¼Œé»˜è®¤å®‰è£…ä½ç½®ä¸ºCç›˜ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å®‰è£…åˆ°å…¶å®ƒç›˜ï¼š\n1 2 3 wsl --export Ubuntu F:\\wsl\\ubuntu-backup.tar # å¯¼å‡ºUbuntuå¤‡ä»½ wsl --unregister Ubuntu # æ³¨é”€Ubuntu wsl --import Ubuntu F:\\wsl\\ubuntu F:\\wsl\\ubuntu-backup.tar --version 2 # å¯¼å…¥Ubuntu 4.å®‰è£…å®Œæˆåï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¯åŠ¨Ubuntuï¼š\n1 wsl -d Ubuntu 5.è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ›´æ–°è½¯ä»¶åŒ…ï¼š\n1 2 sudo apt update sudo apt upgrade 6.è‡³æ­¤ï¼ŒUbuntu 22.04å®‰è£…å®Œæˆã€‚\nè®°å½•ä¸€ä¸‹ï¼Œä»¥åæœ‰éœ€è¦å¯ä»¥å‚è€ƒã€‚\n","date":"2025-02-02T00:00:00Z","image":"https://programcx.github.io/p/windows-%E5%AE%89%E8%A3%85-ubuntu-22.04-%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/Ubuntu_hu3e6f1076ba5decc155d48cb9746e9e0f_24979_120x120_fill_box_smart1_3.png","permalink":"https://programcx.github.io/p/windows-%E5%AE%89%E8%A3%85-ubuntu-22.04-%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B/","title":"Windows å®‰è£… Ubuntu 22.04 è¯¦ç»†æ•™ç¨‹"},{"content":"1. \u0026lt;if\u0026gt;å…ƒç´  å½“\u0026lt;if\u0026gt;ä¸­çš„test çš„å€¼ä¸ºçœŸæ—¶å°±æ‰§è¡ŒåŠ æ‹¬å·é‡Œé¢çš„è¯­å¥ï¼Œå¦åˆ™å°±ä¸æ‰§è¡Œã€‚\nç¤ºä¾‹å¦‚ä¸‹ï¼š\næ•°æ®åº“å‡†å¤‡ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # åˆ‡æ¢æ•°æ®åº“ use mall; # åˆ›å»ºæ•°æ®è¡¨ create table customer ( id int(32) primary key auto_increment comment \u0026#39;ID\u0026#39;, name varchar(50) not null comment \u0026#39;Customer Name\u0026#39;, address varchar(50) comment \u0026#39;Customer Address\u0026#39;, phone varchar(20) comment \u0026#39;Customer Phone\u0026#39; ); # æ’å…¥æ•°æ® insert into customer values(1,\u0026#39;ChengXu\u0026#39;,\u0026#39;AUST\u0026#39;,\u0026#39;666666666666\u0026#39;); insert into customer values(2,\u0026#39;Program\u0026#39;,\u0026#39;AUST\u0026#39;,\u0026#39;888888888888\u0026#39;); insert into customer values(3,\u0026#39;ProgramCX\u0026#39;,\u0026#39;AUST\u0026#39;,\u0026#39;99999999999\u0026#39;); POJO ç±»å‡†å¤‡ åœ¨ org.exmaple.pojo ä¸‹æ–°å»ºä¸€ä¸ª Customer ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 package org.example.pojo; public class Customer { private int id; private String name; private String address; private String phone; public int getId() { return id; } public void setId(int id) { this.id = id; } public String getName() { return name; } public void setName(String name) { this.name = name; } public String getAddress() { return address; } public void setAddress(String address) { this.address = address; } public String getPhone() { return phone; } public void setPhone(String phone) { this.phone = phone; } @Override public String toString() { return \u0026#34;Customer{\u0026#34; + \u0026#34;id=\u0026#34; + id + \u0026#34;, name=\u0026#39;\u0026#34; + name + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, address=\u0026#39;\u0026#34; + address + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#34;, phone=\u0026#39;\u0026#34; + phone + \u0026#39;\\\u0026#39;\u0026#39; + \u0026#39;}\u0026#39;; } } åˆ›å»ºæ˜ å°„æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;org.example.pojo.Customer\u0026#34;\u0026gt; \u0026lt;select id=\u0026#34;queryCustomerByNameAndAddress\u0026#34; parameterType=\u0026#34;org.example.pojo.Customer\u0026#34; resultType=\u0026#34;org.example.pojo.Customer\u0026#34;\u0026gt; SELECT * from customer where 1=1 \u0026lt;if test=\u0026#34;name !=null and name !=\u0026#39;\u0026#39;\u0026#34;\u0026gt; and name=#{name} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;phone !=null and phone!=\u0026#39;\u0026#39;\u0026#34;\u0026gt; and phone=#{phone} \u0026lt;/if\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; ä¿®æ”¹æ ¸å¿ƒé…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;!-- é…ç½®æ–‡ä»¶çš„æ ¹å…ƒç´  --\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;!-- å±æ€§ï¼šå®šä¹‰é…ç½®å¤–åœ¨åŒ– --\u0026gt; \u0026lt;properties resource=\u0026#34;db.properties\u0026#34;/\u0026gt; \u0026lt;!-- ç¯å¢ƒï¼šé…ç½®mybatisçš„ç¯å¢ƒ --\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;!-- ç¯å¢ƒå˜é‡ï¼šå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒå˜é‡ï¼Œæ¯”å¦‚ä½¿ç”¨å¤šæ•°æ®æºæ—¶ï¼Œå°±éœ€è¦é…ç½®å¤šä¸ªç¯å¢ƒå˜é‡ --\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;!-- äº‹åŠ¡ç®¡ç†å™¨ --\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;!-- æ•°æ®æº --\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;${mysql.driver}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;${mysql.url}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;${mysql.username}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;${mysql.password}\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;mapper/UserMapper.xml\u0026#34;/\u0026gt; \u0026lt;mapper resource=\u0026#34;mapper/CustomMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; \u0026lt;/configuration\u0026gt; åˆ›å»ºæµ‹è¯•ç±» 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package Test; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import org.junit.Test; import java.io.IOException; import java.io.Reader; import org.example.pojo.Customer; public class CustomerTest { @Test public void test() throws IOException { //åˆå§‹åŒ–é…ç½® Reader read = Resources.getResourceAsReader(\u0026#34;mybatis-config.xml\u0026#34;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(read); SqlSession sqlSession = sqlSessionFactory.openSession(); //åˆ›å»ºPOJOç±»çš„å®ä¾‹ Customer customer = new Customer(); customer.setId(1); customer.setAddress(\u0026#34;AUST\u0026#34;); customer.setPhone(\u0026#34;666666666666\u0026#34;); customer = sqlSession.selectOne(\u0026#34;queryCustomerByNameAndAddress\u0026#34;, customer); System.out.println(customer); } } è¿è¡Œç»“æœ 1 2 3 4 \u0026#34;D:\\Program Files\\Java\\jdk-23\\bin\\java.exe\u0026#34; -ea -Didea.test.cyclic.buffer.size=1048576 \u0026#34;-javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.3.1.1\\lib\\idea_rt.jar=50887:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.3.1.1\\bin\u0026#34; -javaagent:C:\\Users\\Progr\\AppData\\Local\\JetBrains\\IntelliJIdea2024.3\\captureAgent\\debugger-agent.jar -Dkotlinx.coroutines.debug.enable.creation.stack.trace=false -Ddebugger.agent.enable.coroutines=true -Dkotlinx.coroutines.debug.enable.flows.stack.trace=true -Dkotlinx.coroutines.debug.enable.mutable.state.flows.stack.trace=true -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath \u0026#34;D:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.3.1.1\\lib\\idea_rt.jar;D:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.3.1.1\\plugins\\junit\\lib\\junit5-rt.jar;D:\\Program Files\\JetBrains\\IntelliJ IDEA 2024.3.1.1\\plugins\\junit\\lib\\junit-rt.jar;C:\\Users\\Progr\\IdeaProjects\\untitled\\target\\test-classes;C:\\Users\\Progr\\IdeaProjects\\untitled\\target\\classes;D:\\Program Files\\apache-maven-3.9.9\\repository\\org\\mybatis\\mybatis\\3.5.19\\mybatis-3.5.19.jar;D:\\Program Files\\apache-maven-3.9.9\\repository\\com\\mysql\\mysql-connector-j\\8.0.33\\mysql-connector-j-8.0.33.jar;D:\\Program Files\\apache-maven-3.9.9\\repository\\com\\google\\protobuf\\protobuf-java\\3.21.9\\protobuf-java-3.21.9.jar;D:\\Program Files\\apache-maven-3.9.9\\repository\\junit\\junit\\4.13.2\\junit-4.13.2.jar;D:\\Program Files\\apache-maven-3.9.9\\repository\\org\\hamcrest\\hamcrest-core\\1.3\\hamcrest-core-1.3.jar\u0026#34; com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit4 Test.CustomerTest,test Customer{id=1, name=\u0026#39;ChengXu\u0026#39;, address=\u0026#39;AUST\u0026#39;, phone=\u0026#39;666666666666\u0026#39;} è¿›ç¨‹å·²ç»“æŸï¼Œé€€å‡ºä»£ç ä¸º 0 ä»£ç åˆ†æ 1 2 3 4 5 6 7 8 9 10 11 \u0026lt;select id=\u0026#34;queryCustomerByNameAndAddress\u0026#34; parameterType=\u0026#34;org.example.pojo.Customer\u0026#34; resultType=\u0026#34;org.example.pojo.Customer\u0026#34;\u0026gt; SELECT * from customer where 1=1 \u0026lt;if test=\u0026#34;name !=null and name !=\u0026#39;\u0026#39;\u0026#34;\u0026gt; and name=#{name} \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;phone !=null and phone!=\u0026#39;\u0026#39;\u0026#34;\u0026gt; and phone=#{phone} \u0026lt;/if\u0026gt; \u0026lt;/select\u0026gt; è¿™æ®µä»£ç æ¥å—ä¸€ä¸ªCustomerç±»ä½œä¸ºå‚æ•°ä¸»è¦å¯¹whereéƒ¨åˆ†è¿›è¡Œäº†æ¡ä»¶åˆ¤æ–­ï¼Œå½“ Customer.nameå­˜åœ¨æ—¶è¿›è¡Œnameç­›é€‰ï¼Œå½“Customer.phoneå­˜åœ¨æ—¶è¿›è¡Œphoneç­›é€‰ã€‚\n2. \u0026lt;choose\u0026gt;ã€\u0026lt;when\u0026gt;ã€\u0026lt;otherwise\u0026gt;å…ƒç´  ä½¿ç”¨\u0026lt;if\u0026gt;å…ƒç´ æ—¶ï¼Œå¯ä»¥é€‰æ‹©å¤šä¸ªå…ƒç´ è¿›è¡Œæ‰§è¡Œï¼›å¦‚æœéœ€è¦é€‰æ‹©å•ä¸ªå…ƒç´ ï¼Œç”¨\u0026lt;if\u0026gt;æ˜¯ä¸åˆé€‚çš„ï¼Œæ­¤æ—¶åº”è¯¥ä½¿ç”¨\u0026lt;when\u0026gt;ï¼Œ\u0026lt;when\u0026gt;åªèƒ½é€‰æ‹©å•ä¸ªå…ƒç´ è¿›è¡Œæ‰§è¡Œã€‚æœ‰ç‚¹ç±»ä¼¼äºswitch...case...default...è¯­å¥ã€‚\nchoose: ç±»ä¼¼äºswitchã€‚ when: ç±»ä¼¼äºcaseã€‚ otherwise: ç±»ä¼¼äºdefaultã€‚ åŸºæœ¬æ ¼å¼:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 \u0026lt;choose\u0026gt; \u0026lt;when test=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;!--SQL è¯­å¥--\u0026gt; \u0026lt;/when\u0026gt; \u0026lt;when test=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;!--SQL è¯­å¥--\u0026gt; \u0026lt;/when\u0026gt; \u0026lt;when test=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;!--SQL è¯­å¥--\u0026gt; \u0026lt;/when\u0026gt; \u0026lt;when test=\u0026#34;...\u0026#34;\u0026gt; \u0026lt;!--SQL è¯­å¥--\u0026gt; \u0026lt;/when\u0026gt; \u0026lt;otherwise\u0026gt; \u0026lt;!--SQL è¯­å¥--\u0026gt; \u0026lt;/otherwise\u0026gt; \u0026lt;/choose\u0026gt; 3. \u0026lt;where\u0026gt;å’Œ\u0026lt;trim\u0026gt; 3.1 \u0026lt;where\u0026gt; ä¹‹å‰æˆ‘ä»¬åœ¨ä½¿ç”¨\u0026lt;if\u0026gt;å…ƒç´ æ—¶ï¼Œä¼šåœ¨whereåé¢åŠ ä¸Š1=1æ¥ç¡®ä¿å³ä½¿åé¢æ¡ä»¶åˆ¤æ–­ä¸æˆç«‹è¿™ä¸ª SQL è¯­å¥æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œèƒ½å¤Ÿæ‰§è¡Œ\u0026lt;where\u0026gt;å¯ä»¥æ›¿ä»£1=1,åªè¦åœ¨\u0026lt;if\u0026gt;å…ƒç´ å¤–è¾¹åŒ…è£¹ä¸€å±‚\u0026lt;where\u0026gt;å°±å¯ä»¥äº†ï¼Œè¿™æ ·æ—¢ç¬¦åˆé€»è¾‘ï¼Œåˆæ¸…æ™°æ˜äº†ã€‚\n3.2 \u0026lt;trim\u0026gt; é™¤äº†å¯ä»¥ä½¿ç”¨\u0026lt;where\u0026gt;æ¥å®ç°ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨\u0026lt;trim\u0026gt;æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œ\u0026lt;trim\u0026gt;ç”¨æ¥åˆ é™¤å¤šä½™çš„å…³é”®å­—ã€‚\nä¸‹é¢æ˜¯\u0026lt;trim\u0026gt;å…ƒç´ çš„å±æ€§ï¼š\nprefixï¼šæŒ‡å®šç»™SQLè¯­å¥å¢åŠ çš„å‰ç¼€ï¼› prefixOverridesï¼šæŒ‡å®šè¦ç»™SQLè¯­å¥ä¸­å»æ‰çš„å‰ç¼€å­—ç¬¦ä¸²ï¼› suffixï¼šæŒ‡å®šè¦ç»™SQLè¯­å¥å¢åŠ çš„åç¼€ï¼› suffixOverridesï¼šæŒ‡å®šè¦ç»™SQLè¯­å¥ä¸­å»æ‰éƒ½åç¼€å­—ç¬¦ä¸²ã€‚ 4. æ›´æ–°æ“ä½œ åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¸€èˆ¬æˆ‘ä»¬åªæƒ³æ›´æ–°æŸä¸ªå¯¹è±¡çš„æŸä¸ªæˆ–å¤šä¸ªå­—æ®µï¼Œå¦‚æœåƒä¼ ç»Ÿçš„Hibernateæ¡†æ¶ï¼Œå°±å¿…é¡»å‘é€æ‰€æœ‰çš„å­—æ®µç»™æŒä¹…åŒ–å¯¹è±¡ï¼Œè¿™ä¸ªä¼šå¯¼è‡´æ‰§è¡Œæ•ˆç‡éå¸¸ä½ã€‚è€ŒMyBatisç»™å‡ºäº†\u0026lt;set\u0026gt;å…ƒç´ ï¼Œå’Œ\u0026lt;if\u0026gt;å…ƒç´ ç»“åˆå¯ä»¥å®ç°æ›´æ–°éœ€è¦æ›´æ–°å­—æ®µçš„ç›®çš„ã€‚\næ ¼å¼ä¸ºï¼š\n1 2 3 4 5 6 7 8 9 update ... \u0026lt;set\u0026gt; \u0026lt;if test=\u0026#34;...\u0026#34;\u0026gt; ... \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;...\u0026#34;\u0026gt; ... \u0026lt;/if\u0026gt; \u0026lt;/set\u0026gt; 5. å¤æ‚æŸ¥è¯¢æ“ä½œ 5.1 \u0026lt;foreach\u0026gt;å…ƒç´ çš„å±æ€§ 5.1.2 è¿­ä»£æ•°ç»„ å‡å¦‚æœ‰ä¸€ä¸ªæ•°æ®è¡¨ï¼Œç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 CREATE TABLE users ( id INT PRIMARY KEY, name VARCHAR(50) ); æˆ‘ä»¬è¦æ ¹æ®ä¸€ä¸ªidæ•°ç»„æ¥æŸ¥è¯¢å¤šä¸ªç”¨æˆ·çš„åå­—ï¼Œæ˜ å°„æ–‡ä»¶å¯ä»¥è¿™æ ·é…ç½®ï¼š\n1 2 3 4 5 6 7 \u0026lt;select id=\u0026#34;findUsersByIds\u0026#34; parameterType=\u0026#34;int[]\u0026#34; resultType=\u0026#34;User\u0026#34;\u0026gt; SELECT * FROM users WHERE id IN \u0026lt;foreach collection=\u0026#34;array\u0026#34; item=\u0026#34;id\u0026#34; open=\u0026#34;(\u0026#34; separator=\u0026#34;,\u0026#34; close=\u0026#34;)\u0026#34;\u0026gt; #{id} \u0026lt;/foreach\u0026gt; \u0026lt;/select\u0026gt; å¦‚æœæˆ‘ä»¬è¿™æ ·è°ƒç”¨ï¼š\n1 2 int[] ids = [1,2,3]; List\u0026lt;User\u0026gt; users = userMapper.findUsersByIds(ids); ä¼šç”Ÿæˆä¸‹åˆ—è¯­å¥ï¼š\n1 SELECT * FROM users WHERE id IN (1, 2, 3); è¿™ä¸ªid IN (1, 2, 3)è¯­å¥å…¶å®å°±æ˜¯id=1 OR id=2 OR id=3çš„ç®€å†™ã€‚\næ ¹æ®æ‰€å­¦çŸ¥è¯†ï¼Œä¸Šè¿°æ˜ å°„æ–‡ä»¶ä»£ç å°±ç­‰ä»·äºï¼š\n1 2 3 4 5 6 7 8 9 10 11 \u0026lt;select id=\u0026#34;findUsersByIds\u0026#34; parameterType=\u0026#34;int[]\u0026#34; resultType=\u0026#34;User\u0026#34;\u0026gt; SELECT * FROM users WHERE \u0026lt;where\u0026gt; \u0026lt;foreach collection=\u0026#34;array\u0026#34; item=\u0026#34;id\u0026#34; separator=\u0026#34;OR\u0026#34;\u0026gt; \u0026lt;if test=\u0026#34;id != null and id != \u0026#39;\u0026#39;\u0026#34;\u0026gt; id = #{id} \u0026lt;/if\u0026gt; \u0026lt;/foreach\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; 5.1.3 è¿­ä»£List ä½¿ç”¨æ–¹æ³•ç±»ä¼¼äºArrayï¼Œåªæ˜¯æŠŠä¼ å…¥å‚æ•°æ”¹æˆListã€‚\næ˜ å°„æ–‡ä»¶å¯ä»¥è¿™æ ·é…ç½®ï¼š\n1 2 3 4 5 6 7 \u0026lt;select id=\u0026#34;findUsersByIds\u0026#34; parameterType=\u0026#34;java.util.Arrays\u0026#34; resultType=\u0026#34;User\u0026#34;\u0026gt; SELECT * FROM users WHERE id IN \u0026lt;foreach collection=\u0026#34;array\u0026#34; item=\u0026#34;id\u0026#34; open=\u0026#34;(\u0026#34; separator=\u0026#34;,\u0026#34; close=\u0026#34;)\u0026#34;\u0026gt; #{id} \u0026lt;/foreach\u0026gt; \u0026lt;/select\u0026gt; è°ƒç”¨æ–¹æ³•ï¼š\n1 2 3 4 List\u0026lt;Integer\u0026gt; ids = new ArrayList\u0026lt;Integer\u0026gt;(); ids.add(1); ids.add(2); List\u0026lt;User\u0026gt; users = userMapper.findUsersByIds(ids); 5.1.3 è¿­ä»£ Map é€šè¿‡æŒ‡å®šå¤šä¸ªé™å®šæ¡ä»¶æ¥æŸ¥è¯¢ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·(AND)ï¼Œå¯ä»¥ä½¿ç”¨Mapã€‚\né€šè¿‡idå’Œå§“åæ¥æŸ¥è¯¢ç”¨æˆ·ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 \u0026lt;select id=\u0026#34;findUsersByParams\u0026#34; parameterType=\u0026#34;java.util.Map\u0026#34; resultType=\u0026#34;User\u0026#34;\u0026gt; SELECT * FROM users WHERE \u0026lt;where\u0026gt; \u0026lt;if test=\u0026#34;ids != null and ids.size() \u0026gt; 0\u0026#34;\u0026gt; id IN \u0026lt;foreach collection=\u0026#34;ids\u0026#34; item=\u0026#34;id\u0026#34; open=\u0026#34;(\u0026#34; separator=\u0026#34;,\u0026#34; close=\u0026#34;)\u0026#34;\u0026gt; #{id} \u0026lt;/foreach\u0026gt; \u0026lt;/if\u0026gt; \u0026lt;if test=\u0026#34;name != null and name != \u0026#39;\u0026#39;\u0026#34;\u0026gt; AND name = #{name} \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; å…¶ä¸­ï¼Œé‡Œé¢çš„idså°±æ˜¯ä¼ å…¥çš„Mapå¯¹è±¡çš„idsé”®æ‰€å¯¹åº”çš„å€¼ï¼ˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼‰ï¼Œç„¶åé€šè¿‡\u0026lt;foreach\u0026gt;éå†è·å–æ¯ä¸€ä¸ªidï¼Œidså°±æ˜¯ä¼ å…¥çš„Mapå¯¹è±¡çš„idsé”®æ‰€å¯¹åº”çš„å€¼ã€‚\n1 2 3 4 5 Map\u0026lt;String, Object\u0026gt; params = new HashMap\u0026lt;\u0026gt;(); params.put(\u0026#34;ids\u0026#34;, Arrays.asList(1, 2, 3)); // ä¼ å…¥ ids æ•°ç»„ params.put(\u0026#34;name\u0026#34;, \u0026#34;Alice\u0026#34;); // ä¼ å…¥ name List\u0026lt;User\u0026gt; users = userMapper.findUsersByParams(params); å°±ä¼šç”Ÿæˆè¿™ä¸ªsqlè¯­å¥ï¼š\n1 select * from user where id in (1,2,3) AND name=\u0026#34;Alice\u0026#34;; å®è·µï¼šå­¦ç”Ÿä¿¡æ¯æŸ¥è¯¢ç³»ç»Ÿ åˆ©ç”¨æœ¬ç« å±äºçŸ¥è¯†å®Œæˆä¸€ä¸ªå­¦ç”Ÿä¿¡æ¯æŸ¥è¯¢ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿè¦æ±‚å®ç°ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š\nå½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åä¸ä¸ºç©ºæ—¶ï¼Œåˆ™åªæ ¹æ®å­¦ç”Ÿå§“åè¿›è¡Œå­¦ç”Ÿä¿¡æ¯çš„æŸ¥è¯¢ã€‚ å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åä¸ºç©ºï¼Œè€Œå­¦ç”Ÿä¸“ä¸šä¸ºç©ºæ—¶ï¼Œåˆ™æŒ‡æ ¹æ®å­¦ç”Ÿä¸“ä¸šè¿›è¡Œå­¦ç”Ÿä¿¡æ¯çš„æŸ¥è¯¢ã€‚ å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åå’Œä¸“ä¸šéƒ½ä¸ºç©ºï¼Œåˆ™è¦æ±‚æŸ¥è¯¢å‡ºæ‰€æœ‰å­¦å·ä¸ä¸ºç©ºçš„å­¦ç”Ÿä¿¡æ¯ã€‚ ç¬¬ä¸€æ­¥ï¼šæ•°æ®åº“æ•°æ®å‡†å¤‡ ç™»å½• MySQL ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 use mall; create table student( name varchar(50), # å­¦ç”Ÿå§“å major varchar(256), # ä¸“ä¸š id int primary key auto_increment # å­¦ç”Ÿç¼–å· ); create index idx_student_id on student(id); # ä¸ºå­¦ç”Ÿç¼–å·åˆ›å»ºç´¢å¼• # æ’å…¥æ•°æ® insert into student(name, major) values(\u0026#39;zhangsan\u0026#39;, \u0026#39;computer\u0026#39;); insert into student(name, major) values(\u0026#39;lisi\u0026#39;, \u0026#39;mathematics\u0026#39;); insert into student(name, major) values(\u0026#39;wangwu\u0026#39;, \u0026#39;physics\u0026#39;); insert into student(name, major) values(\u0026#39;zhaoliu\u0026#39;, \u0026#39;chemistry\u0026#39;); insert into student(name, major) values(\u0026#39;sunqi\u0026#39;, \u0026#39;biology\u0026#39;); insert into student(name, major) values(\u0026#39;zhouba\u0026#39;, \u0026#39;engineering\u0026#39;); insert into student(name, major) values(\u0026#39;wujiu\u0026#39;, \u0026#39;literature\u0026#39;); insert into student(name, major) values(\u0026#39;zhengshi\u0026#39;, \u0026#39;history\u0026#39;); insert into student(name, major) values(\u0026#39;liuyi\u0026#39;, \u0026#39;philosophy\u0026#39;); insert into student(name, major) values(\u0026#39;qibai\u0026#39;, \u0026#39;art\u0026#39;); insert into student(name, major) values(\u0026#39;bajiu\u0026#39;, \u0026#39;music\u0026#39;); insert into student(name, major) values(\u0026#39;shiyi\u0026#39;, \u0026#39;economics\u0026#39;); insert into student(name, major) values(\u0026#39;shier\u0026#39;, \u0026#39;political science\u0026#39;); insert into student(name, major) values(\u0026#39;shisan\u0026#39;, \u0026#39;sociology\u0026#39;); insert into student(name, major) values(\u0026#39;shisi\u0026#39;, \u0026#39;psychology\u0026#39;); insert into student(name, major) values(\u0026#39;shiwu\u0026#39;, \u0026#39;law\u0026#39;); insert into student(name, major) values(\u0026#39;shiliu\u0026#39;, \u0026#39;medicine\u0026#39;); insert into student(name, major) values(\u0026#39;shiqi\u0026#39;, \u0026#39;nursing\u0026#39;); insert into student(name, major) values(\u0026#39;shiba\u0026#39;, \u0026#39;education\u0026#39;); insert into student(name, major) values(\u0026#39;shijiu\u0026#39;, \u0026#39;business\u0026#39;); insert into student(name, major) values(\u0026#39;ershi\u0026#39;, \u0026#39;architecture\u0026#39;); ç¬¬äºŒæ­¥ï¼šåˆ›å»º POJO ç±» åœ¨org.example.pojoåŒ…ä¸‹æ–°å»ºä¸€ä¸ªStudent.javaæ–‡ä»¶ï¼Œåˆ›å»º POJO ç±» Student\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 package Test; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import org.example.pojo.Student; import org.junit.Test; import java.io.IOException; import java.io.Reader; import java.util.List; public class StudentTest { private static SqlSession sqlSession; @Test public void test1() throws IOException { Student student = new Student(); student.setName(\u0026#34;zhangsan\u0026#34;); SqlSession session=getSession(); List\u0026lt;Student\u0026gt; list=session.selectList(\u0026#34;findStudent\u0026#34;,student); for(Student s:list){ System.out.println(s); } } @Test public void test2() throws IOException { Student student = new Student(); student.setMajor(\u0026#34;economics\u0026#34;); SqlSession session=getSession(); List\u0026lt;Student\u0026gt; list=session.selectList(\u0026#34;findStudent\u0026#34;,student); for(Student s:list){ System.out.println(s); } } @Test public void test3() throws IOException { Student student = new Student(); sqlSession=getSession(); List\u0026lt;Student\u0026gt; list=sqlSession.selectList(\u0026#34;findStudent\u0026#34;,student); for(Student s:list){ System.out.println(s); } } public static SqlSession getSession() throws IOException { if(sqlSession == null){ Reader reader = Resources.getResourceAsReader(\u0026#34;mybatis-config.xml\u0026#34;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader); sqlSession = sqlSessionFactory.openSession(); } return sqlSession; } } ç¬¬ä¸‰æ­¥ï¼šMapper æ˜ å°„æ–‡ä»¶é…ç½® åˆ›å»º StudentMapperï¼Œåˆ›å»ºæ˜ å°„å…³ç³»å’ŒæŸ¥è¯¢æ¡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;org.example.pojo.Student\u0026#34;\u0026gt; \u0026lt;select id=\u0026#34;findStudent\u0026#34; parameterType=\u0026#34;org.example.pojo.Student\u0026#34; resultType=\u0026#34;org.example.pojo.Student\u0026#34;\u0026gt; select * from student \u0026lt;where\u0026gt; \u0026lt;!--å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åä¸ä¸ºç©ºæ—¶ï¼Œåˆ™åªæ ¹æ®å­¦ç”Ÿå§“åè¿›è¡Œå­¦ç”Ÿä¿¡æ¯çš„æŸ¥è¯¢ã€‚--\u0026gt; \u0026lt;if test=\u0026#34;name!=null and name!=\u0026#39;\u0026#39;\u0026#34;\u0026gt; name=#{name} \u0026lt;/if\u0026gt; \u0026lt;!--å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åä¸ºç©ºï¼Œè€Œå­¦ç”Ÿä¸“ä¸šä¸ºç©ºæ—¶ï¼Œåˆ™æŒ‡æ ¹æ®å­¦ç”Ÿä¸“ä¸šè¿›è¡Œå­¦ç”Ÿä¿¡æ¯çš„æŸ¥è¯¢ã€‚--\u0026gt; \u0026lt;if test=\u0026#34;(name==null or name==\u0026#39;\u0026#39;) and (major!=\u0026#39;\u0026#39; and major!=null)\u0026#34;\u0026gt; major=#{major} \u0026lt;/if\u0026gt; \u0026lt;!--å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åå’Œä¸“ä¸šéƒ½ä¸ºç©ºï¼Œåˆ™è¦æ±‚æŸ¥è¯¢å‡ºæ‰€æœ‰å­¦å·ä¸ä¸ºç©ºçš„å­¦ç”Ÿä¿¡æ¯ã€‚--\u0026gt; \u0026lt;if test=\u0026#34;(name==null or name==\u0026#39;\u0026#39;) and (major==\u0026#39;\u0026#39; or major==null)\u0026#34;\u0026gt; id!=0 \u0026lt;/if\u0026gt; \u0026lt;/where\u0026gt; \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; ç¬¬å››æ­¥ï¼šé…ç½® MyBatis é…ç½®æ–‡ä»¶ åœ¨mybatis-config.xml é‡Œï¼ŒæŠŠ StudentMapper.xml æ–‡ä»¶åŒ…å«è¿›å»ï¼š\n1 \u0026lt;mapper resource=\u0026#34;mapper/StudentMapper.xml\u0026#34;/\u0026gt; ç¬¬äº”æ­¥ï¼šåˆ›å»ºæµ‹è¯•ç±» åœ¨ test/java/Test ç›®å½•ä¸‹åˆ›å»º StudentTest.java æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹æµ‹è¯•æ–¹æ³•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 package Test; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import org.example.pojo.Student; import org.junit.Test; import java.io.IOException; import java.io.Reader; import java.util.List; public class StudentTest { private static SqlSession sqlSession; @Test //å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åä¸ä¸ºç©ºæ—¶ï¼Œåˆ™åªæ ¹æ®å­¦ç”Ÿå§“åè¿›è¡Œå­¦ç”Ÿä¿¡æ¯çš„æŸ¥è¯¢ã€‚ public void test1() throws IOException { Student student = new Student(); student.setName(\u0026#34;zhangsan\u0026#34;); SqlSession session=getSession(); List\u0026lt;Student\u0026gt; list=session.selectList(\u0026#34;findStudent\u0026#34;,student); for(Student s:list){ System.out.println(s); } } @Test //å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åä¸ºç©ºï¼Œè€Œå­¦ç”Ÿä¸“ä¸šä¸ºç©ºæ—¶ï¼Œåˆ™æŒ‡æ ¹æ®å­¦ç”Ÿä¸“ä¸šè¿›è¡Œå­¦ç”Ÿä¿¡æ¯çš„æŸ¥è¯¢ã€‚ public void test2() throws IOException { Student student = new Student(); student.setMajor(\u0026#34;economics\u0026#34;); SqlSession session=getSession(); List\u0026lt;Student\u0026gt; list=session.selectList(\u0026#34;findStudent\u0026#34;,student); for(Student s:list){ System.out.println(s); } } @Test //å½“ç”¨æˆ·è¾“å…¥çš„å­¦ç”Ÿå§“åå’Œä¸“ä¸šéƒ½ä¸ºç©ºï¼Œåˆ™è¦æ±‚æŸ¥è¯¢å‡ºæ‰€æœ‰å­¦å·ä¸ä¸ºç©ºçš„å­¦ç”Ÿä¿¡æ¯ã€‚ public void test3() throws IOException { Student student = new Student(); sqlSession=getSession(); List\u0026lt;Student\u0026gt; list=sqlSession.selectList(\u0026#34;findStudent\u0026#34;,student); for(Student s:list){ System.out.println(s); } } public static SqlSession getSession() throws IOException { if(sqlSession == null){ Reader reader = Resources.getResourceAsReader(\u0026#34;mybatis-config.xml\u0026#34;); SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader); sqlSession = sqlSessionFactory.openSession(); } return sqlSession; } } ç¬¬äº”æ­¥ï¼šæŸ¥çœ‹è¿è¡Œç»“æœğŸ˜† æˆåŠŸäº†ï¼Œè¿™ä¸€ç« å­¦ä¹ åœ†æ»¡ç»“æŸï¼ğŸ†ğŸ†\nè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š\ntest1ï¼š\n1 Student [name=zhangsan, major=computer, id=1] test2ï¼š\n1 Student [name=shiyi, major=economics, id=12] test3ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 Student [name=zhangsan, major=computer, id=1] Student [name=lisi, major=mathematics, id=2] Student [name=wangwu, major=physics, id=3] Student [name=zhaoliu, major=chemistry, id=4] Student [name=sunqi, major=biology, id=5] Student [name=zhouba, major=engineering, id=6] Student [name=wujiu, major=literature, id=7] Student [name=zhengshi, major=history, id=8] Student [name=liuyi, major=philosophy, id=9] Student [name=qibai, major=art, id=10] Student [name=bajiu, major=music, id=11] Student [name=shiyi, major=economics, id=12] Student [name=shier, major=political science, id=13] Student [name=shisan, major=sociology, id=14] Student [name=shisi, major=psychology, id=15] Student [name=shiwu, major=law, id=16] Student [name=shiliu, major=medicine, id=17] Student [name=shiqi, major=nursing, id=18] Student [name=shiba, major=education, id=19] Student [name=shijiu, major=business, id=20] Student [name=ershi, major=architecture, id=21] ","date":"2025-01-22T00:00:00Z","image":"https://programcx.github.io/p/mybatis-%E5%8A%A8%E6%80%81-sql-%E8%AF%AD%E5%8F%A5/MyBatis_huf530186ff050aabde73a47f8290c5d55_111513_120x120_fill_box_smart1_3.png","permalink":"https://programcx.github.io/p/mybatis-%E5%8A%A8%E6%80%81-sql-%E8%AF%AD%E5%8F%A5/","title":"MyBatis åŠ¨æ€ SQL è¯­å¥"},{"content":"MyBatis ä¸­æ ¸å¿ƒå¯¹è±¡ 1. SqlSession SqlSession ä¸­æä¾›äº†ä¸åŒçš„æŸ¥è¯¢æ–¹æ³•ã€‚å…¶ä¸­å¯ä»¥æŸ¥è¯¢å•ä¸ªï¼Œä¹Ÿå¯ä»¥æŸ¥è¯¢ç¬¦åˆæŸ¥è¯¢æ¡ä»¶çš„é›†åˆã€‚ä¸ä½†å¯ä»¥è¿›è¡ŒæŸ¥è¯¢æ“ä½œï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå¢åˆ æ”¹çš„åŠŸèƒ½ã€‚ä¸‹é¢ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼š\n\u0026lt;T\u0026gt; T selectOne(String statement, Object parameter) : parameter æ˜¯è¯­å¥æ‰€éœ€è¦çš„å‚æ•°ï¼Œç”¨æ¥å°†å‚æ•°ä¼ é€’ç»™ SQL è¯­å¥ã€‚è¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªxmlæ˜ å°„é…ç½®ä¸­æŒ‡å®šçš„ç±»å‹ã€‚ \u0026lt;E\u0026gt; List\u0026lt;E\u0026gt; selectList(String statement, Object parameter) :æŸ¥è¯¢æ³›å‹å¯¹è±¡çš„é›†åˆã€‚ int insert(String statement, Object parameter) ï¼šæ’å…¥æ–¹æ³•ï¼Œå‚æ•°statement æ˜¯\u0026lt;insert\u0026gt; çš„idï¼Œparameter æ˜¯æ’å…¥è¯­å¥æ‰€éœ€è¦çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯åé¢è¦å­¦åˆ°çš„parameterType int update(String statement, Object parameter),int delete(String statement, Object parameter) ç”¨æ³•ç±»ä¼¼ã€‚ void commit()ï¼šæäº¤äº‹åŠ¡ã€‚ void rollback()ï¼šå›æ»šäº‹åŠ¡ã€‚ void close()ï¼šå…³é—­SqlSessionå¯¹è±¡ã€‚ 2. MyBatis æ ¸å¿ƒé…ç½®æ–‡ä»¶å…ƒç´  2.2 \u0026lt;properties\u0026gt;å…ƒç´  ç”¨æ¥å­˜æ”¾æ•°æ®åº“è¿æ¥é©±åŠ¨ç±»å‹ã€sqlåœ°å€ã€ç”¨æˆ·åå’Œå¯†ç ã€‚ç„¶ååœ¨mybatis-config.xmlé‡Œé¢å¼•å…¥ã€ä½¿ç”¨ã€‚\n2.3 \u0026lt;typeAlias\u0026gt;å…ƒç´  ç»™å…¨é™å®šåèµ·ä¸€ä¸ªåˆ«å(Alias)ã€‚\nåœ¨mybatis-config.xmlæ–‡ä»¶é‡Œé¢åŠ ä¸Šï¼š\n1 2 3 \u0026lt;typeAliases\u0026gt; \u0026lt;typeAlias alias=\u0026#34;User\u0026#34; type=\u0026#34;org.example.pojo.User\u0026#34; /\u0026gt; \u0026lt;/typeAliases\u0026gt; 2.4 \u0026lt;environments\u0026gt;å…ƒç´  å¯ä»¥ç»™å¼€å‘ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒè¿›è¡Œä¸åŒçš„é…ç½®ã€‚\nUNPOOLEDï¼šæ— è¿æ¥æ± ç±»å‹ã€‚æ¯æ¬¡è¯·æ±‚ä¼šæ‰“å¼€å’Œå…³é—­æ•°æ®åº“ã€‚é€‚ç”¨äºå¯¹æ€§èƒ½è¦æ±‚ä¸é«˜çš„ç®€å•åº”ç”¨ç¨‹åºã€‚ POOLEDï¼šè¿æ¥æ± ç±»å‹ã€‚ 2.6 \u0026lt;mappers\u0026gt;å…ƒç´  ç”¨æ¥å¼•å…¥æ˜ å°„æ–‡ä»¶ã€‚åŸºæœ¬ç»“æ„ï¼š\n1 2 3 \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;mapper/UserMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; 2.7 \u0026lt;select\u0026gt;å…ƒç´  è¯¥æ ‡ç­¾å¯ä»¥å®ç°æŸ¥è¯¢æ“ä½œï¼Œå¯ä»¥å°†æŸ¥è¯¢ç»“æœæ˜ å°„ä¸ºPOJOå¯¹è±¡ï¼Œå¹¶ä¸”è¿”å›ã€‚\nç®€å•çš„æŸ¥è¯¢ä¾‹å­ï¼š\n1 2 3 4 5 6 \u0026lt;select id=\u0026#34;findUserById\u0026#34; parameterType=\u0026#34;int\u0026#34; resultType=\u0026#34;cn.programcx.POJO.User\u0026#34; \u0026gt; SELECT * FROM user WHERE id = #{id} \u0026lt;/select\u0026gt; è¿™ä¸ªè¯­å¥æ¥å—ä¸€ä¸ªintç±»å‹çš„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªcn.programcx.POJOåŒ…ä¸­çš„å¯¹è±¡ã€‚\nå‚æ•°ï¼š\nå±æ€§ æè¿° id åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚ parameterType å°†ä¼šä¼ å…¥è¿™æ¡è¯­å¥çš„å‚æ•°çš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚è¿™ä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼Œå› ä¸º MyBatis å¯ä»¥é€šè¿‡ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰æ¨æ–­å‡ºå…·ä½“ä¼ å…¥è¯­å¥çš„å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚ resultType æœŸæœ›ä»è¿™æ¡è¯­å¥ä¸­è¿”å›ç»“æœçš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«çš„ç±»å‹ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚ resultMap æœŸæœ›ä»è¿™æ¡è¯­å¥ä¸­è¿”å›ç»“æœçš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚æ³¨æ„ï¼Œå¦‚æœè¿”å›çš„æ˜¯é›†åˆï¼Œé‚£åº”è¯¥è®¾ç½®ä¸ºé›†åˆåŒ…å«çš„ç±»å‹ï¼Œè€Œä¸æ˜¯é›†åˆæœ¬èº«çš„ç±»å‹ã€‚ resultType å’Œ resultMap ä¹‹é—´åªèƒ½åŒæ—¶ä½¿ç”¨ä¸€ä¸ªã€‚ flushCache å°†å…¶è®¾ç½®ä¸º true åï¼Œåªè¦è¯­å¥è¢«è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´æœ¬åœ°ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜è¢«æ¸…ç©ºï¼Œé»˜è®¤å€¼ï¼šfalseã€‚ useCache å°†å…¶è®¾ç½®ä¸º true åï¼Œå°†ä¼šå¯¼è‡´æœ¬æ¡è¯­å¥çš„ç»“æœè¢«äºŒçº§ç¼“å­˜ç¼“å­˜èµ·æ¥ï¼Œé»˜è®¤å€¼ï¼šå¯¹ select å…ƒç´ ä¸º trueã€‚ timeout è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚ fetchSize è¿™æ˜¯ä¸€ä¸ªç»™é©±åŠ¨çš„å»ºè®®å€¼ï¼Œå°è¯•è®©é©±åŠ¨ç¨‹åºæ¯æ¬¡æ‰¹é‡è¿”å›çš„ç»“æœè¡Œæ•°ç­‰äºè¿™ä¸ªè®¾ç½®å€¼ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–é©±åŠ¨ï¼‰ã€‚ statementType å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚ resultSetType FORWARD_ONLYï¼ŒSCROLL_SENSITIVE, SCROLL_INSENSITIVE æˆ– DEFAULTï¼ˆç­‰ä»·äº unsetï¼‰ä¸­çš„ä¸€ä¸ªï¼Œé»˜è®¤å€¼ä¸º unsetï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚ databaseId å¦‚æœé…ç½®äº†æ•°æ®åº“å‚å•†æ ‡è¯†ï¼ˆdatabaseIdProviderï¼‰ï¼ŒMyBatis ä¼šåŠ è½½æ‰€æœ‰ä¸å¸¦ databaseId æˆ–åŒ¹é…å½“å‰ databaseId çš„è¯­å¥ï¼›å¦‚æœå¸¦å’Œä¸å¸¦çš„è¯­å¥éƒ½æœ‰ï¼Œåˆ™ä¸å¸¦çš„ä¼šè¢«å¿½ç•¥ã€‚ resultOrdered è¿™ä¸ªè®¾ç½®ä»…é’ˆå¯¹åµŒå¥—ç»“æœ select è¯­å¥ï¼šå¦‚æœä¸º trueï¼Œå°†ä¼šå‡è®¾åŒ…å«äº†åµŒå¥—ç»“æœé›†æˆ–æ˜¯åˆ†ç»„ï¼Œå½“è¿”å›ä¸€ä¸ªä¸»ç»“æœè¡Œæ—¶ï¼Œå°±ä¸ä¼šäº§ç”Ÿå¯¹å‰é¢ç»“æœé›†çš„å¼•ç”¨ã€‚é»˜è®¤å€¼ï¼šfalseã€‚ resultSets è¿™ä¸ªè®¾ç½®ä»…é€‚ç”¨äºå¤šç»“æœé›†çš„æƒ…å†µã€‚å®ƒå°†åˆ—å‡ºè¯­å¥æ‰§è¡Œåè¿”å›çš„ç»“æœé›†å¹¶èµ‹äºˆæ¯ä¸ªç»“æœé›†ä¸€ä¸ªåç§°ï¼Œå¤šä¸ªåç§°ä¹‹é—´ä»¥é€—å·åˆ†éš”ã€‚ æ³¨æ„ï¼šå¦‚æœæ˜ å°„çš„POJOå¯¹è±¡å’ŒæŒ‡å®šæŸ¥è¯¢çš„æ•°æ®è¡¨ä¸­åç§°ä¸ä¸€è‡´ï¼Œä¸èƒ½ä½¿ç”¨resultTypeï¼Œå¦åˆ™æ— æ³•è¿›è¡Œæ˜ å°„ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼›å¦‚æœåç§°ä¸ä¸€è‡´ï¼Œåº”ä½¿ç”¨resultMapï¼ˆåé¢ä»‹ç»ï¼‰ã€‚\n2.8 \u0026lt;insert\u0026gt;å…ƒç´  insertæ ‡ç­¾ç”¨æ¥æŒ‡å®šæ’å…¥è®°å½•çš„æ“ä½œå’Œå±æ€§ã€‚\n1 2 3 4 5 6 \u0026lt;insert id=\u0026#34;insertUser\u0026#34; parameterType=\u0026#34;cn.programcx.POJO\u0026#34; useGeneratedKeys=\u0026#34;true\u0026#34; keyProperty=\u0026#34;id\u0026#34;\u0026gt; INSERT INTO user(name,sex,email,phone,address,password) values (#{name},#{sex},#{email},#{phone},#{address},#{password}) \u0026lt;/insert\u0026gt; å…¶ä¸­ï¼Œ#{name}è¡¨ç¤ºæ˜ å°„çš„POJOå¯¹è±¡çš„æˆå‘˜å˜é‡Â·nameã€‚\nå±æ€§ æè¿° id åœ¨å‘½åç©ºé—´ä¸­å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥è¢«ç”¨æ¥å¼•ç”¨è¿™æ¡è¯­å¥ã€‚ parameterType å°†ä¼šä¼ å…¥è¿™æ¡è¯­å¥çš„å‚æ•°çš„ç±»å…¨é™å®šåæˆ–åˆ«åã€‚è¿™ä¸ªå±æ€§æ˜¯å¯é€‰çš„ï¼Œå› ä¸º MyBatis å¯ä»¥é€šè¿‡ç±»å‹å¤„ç†å™¨ï¼ˆTypeHandlerï¼‰æ¨æ–­å‡ºå…·ä½“ä¼ å…¥è¯­å¥çš„å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚ parameterMap ç”¨äºå¼•ç”¨å¤–éƒ¨ parameterMap çš„å±æ€§ï¼Œç›®å‰å·²è¢«åºŸå¼ƒã€‚è¯·ä½¿ç”¨è¡Œå†…å‚æ•°æ˜ å°„å’Œ parameterType å±æ€§ã€‚ flushCache å°†å…¶è®¾ç½®ä¸º true åï¼Œåªè¦è¯­å¥è¢«è°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´æœ¬åœ°ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜è¢«æ¸…ç©ºï¼Œé»˜è®¤å€¼ï¼šï¼ˆå¯¹ insertã€update å’Œ delete è¯­å¥ï¼‰trueã€‚ timeout è¿™ä¸ªè®¾ç½®æ˜¯åœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰ï¼Œé©±åŠ¨ç¨‹åºç­‰å¾…æ•°æ®åº“è¿”å›è¯·æ±‚ç»“æœçš„ç§’æ•°ã€‚é»˜è®¤å€¼ä¸ºæœªè®¾ç½®ï¼ˆunsetï¼‰ï¼ˆä¾èµ–æ•°æ®åº“é©±åŠ¨ï¼‰ã€‚ statementType å¯é€‰ STATEMENTï¼ŒPREPARED æˆ– CALLABLEã€‚è¿™ä¼šè®© MyBatis åˆ†åˆ«ä½¿ç”¨ Statementï¼ŒPreparedStatement æˆ– CallableStatementï¼Œé»˜è®¤å€¼ï¼šPREPAREDã€‚ useGeneratedKeys ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è¿™ä¼šä»¤ MyBatis ä½¿ç”¨ JDBC çš„ getGeneratedKeys æ–¹æ³•æ¥å–å‡ºç”±æ•°æ®åº“å†…éƒ¨ç”Ÿæˆçš„ä¸»é”®ï¼ˆæ¯”å¦‚ï¼šåƒ MySQL å’Œ SQL Server è¿™æ ·çš„å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„è‡ªåŠ¨é€’å¢å­—æ®µï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚ keyProperty ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰æŒ‡å®šèƒ½å¤Ÿå”¯ä¸€è¯†åˆ«å¯¹è±¡çš„å±æ€§ï¼ŒMyBatis ä¼šä½¿ç”¨ getGeneratedKeys çš„è¿”å›å€¼æˆ– insert è¯­å¥çš„ selectKey å­å…ƒç´ è®¾ç½®å®ƒçš„å€¼ï¼Œé»˜è®¤å€¼ï¼šæœªè®¾ç½®ï¼ˆunsetï¼‰ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚ keyColumn ï¼ˆä»…é€‚ç”¨äº insert å’Œ updateï¼‰è®¾ç½®ç”Ÿæˆé”®å€¼åœ¨è¡¨ä¸­çš„åˆ—åï¼Œåœ¨æŸäº›æ•°æ®åº“ï¼ˆåƒ PostgreSQLï¼‰ä¸­ï¼Œå½“ä¸»é”®åˆ—ä¸æ˜¯è¡¨ä¸­çš„ç¬¬ä¸€åˆ—çš„æ—¶å€™ï¼Œæ˜¯å¿…é¡»è®¾ç½®çš„ã€‚å¦‚æœç”Ÿæˆåˆ—ä¸æ­¢ä¸€ä¸ªï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”å¤šä¸ªå±æ€§åç§°ã€‚ databaseId å¦‚æœé…ç½®äº†æ•°æ®åº“å‚å•†æ ‡è¯†ï¼ˆdatabaseIdProviderï¼‰ï¼ŒMyBatis ä¼šåŠ è½½æ‰€æœ‰ä¸å¸¦ databaseId æˆ–åŒ¹é…å½“å‰ databaseId çš„è¯­å¥ï¼›å¦‚æœå¸¦å’Œä¸å¸¦çš„è¯­å¥éƒ½æœ‰ï¼Œåˆ™ä¸å¸¦çš„ä¼šè¢«å¿½ç•¥ã€‚ 2.9 \u0026lt;update\u0026gt;å…ƒç´  ç”¨æ¥æ›´æ–°è®°å½•ã€‚\n1 2 3 4 5 6 \u0026lt;update id=\u0026#34;updateUser\u0026#34; parameterType=\u0026#34;cn.programcx.POJO.user\u0026#34; \u0026gt; UPDATE user SET name = #{name},email = #{email},password = #{password} WHERE userId = #{userId} \u0026lt;/update\u0026gt; å±æ€§å’Œä¸Šé¢çš„insertä¸€æ ·ã€‚\n2.10 \u0026lt;delete\u0026gt;å…ƒç´  ç”¨æ¥åˆ é™¤è®°å½•\n1 2 3 4 5 6 \u0026lt;delete id=\u0026#34;deleteUser\u0026#34; \u0026gt;\u0026lt;/delete\u0026gt; DELETE FROM user WHERE id=#{id} \u0026lt;/delete\u0026gt; 2.11 \u0026lt;selectKey\u0026gt;å…ƒç´  ç”¨æ¥è‡ªå®šä¹‰ç”Ÿæˆä¸€ä¸ªå±æ€§çš„å€¼ã€‚\nä¾‹å¦‚ï¼Œæ’å…¥ç”¨æˆ·ä¸ºç”¨æˆ·éšæœºç”Ÿæˆidå¹¶æ’å…¥æ•°æ®è¡¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 \u0026lt;insert id=\u0026#34;insertUser\u0026#34; parameterType=\u0026#34;cn.programcx.POJO.user\u0026#34;\u0026gt; \u0026lt;selectKey keyProperty=\u0026#34;userId\u0026#34; resultType=\u0026#34;int\u0026#34; order=\u0026#34;BEFORE\u0026#34;\u0026gt; select CAST(RANDOM()*1000000 as INTEGER) a from SYSIBM.SYSDUMMY1 \u0026lt;/selectKey\u0026gt; INSERT INTO user(userId,name,sex,email,phone,address,password) values (#{userId},#{name},#{sex},#{email},#{phone},#{address},#{password}) \u0026lt;/insert\u0026gt; 2.11 \u0026lt;resultMap\u0026gt;å…ƒç´  \u0026lt;resultMap\u0026gt;çš„ä½œç”¨æ˜¯è‡ªå®šä¹‰æ˜ å°„è§„åˆ™ã€‚å¦‚æœæ•°æ®è¡¨å­—æ®µåç§°å’ŒPOJOç±»ä¸­æ‰€éœ€è¦æ˜ å°„åˆ°å±æ€§çš„åç§°ä¸ä¸€è‡´ï¼Œå°±ä¸èƒ½ä»…ä»…æŒ‡å®šparameterTypeæˆ–resultTypeæ¥å®ç°æ˜ å°„ï¼Œå¿…é¡»è¦é€šè¿‡è‡ªå®šä¹‰æ˜ å°„æ¥å®ç°ã€‚ å…¶åŸºæœ¬æ ¼å¼æ˜¯ï¼š\n1 2 3 4 \u0026lt;resultMap type=\u0026#34;[å®Œæ•´ç±»å]\u0026#34; id=\u0026#34;[æ ‡è¯†è¿™ä¸ªè‡ªå®šä¹‰æ˜ å°„çš„å­—ç¬¦ä¸²]\u0026#34;\u0026gt; \u0026lt;id property=\u0026#34;[POJOç±»ä¸­çš„å±æ€§åç§°]\u0026#34; column=\u0026#34;[å­—æ®µåç§°]\u0026#34;/\u0026gt; \u0026lt;result property=\u0026#34;[POJOç±»ä¸­çš„å±æ€§åç§°]\u0026#34; column=\u0026#34;[å­—æ®µåç§°]\u0026#34;/\u0026gt; \u0026lt;/resultMap\u0026gt; ","date":"2025-01-16T00:00:00Z","image":"https://programcx.github.io/p/mybatis-%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/MyBatis_huf530186ff050aabde73a47f8290c5d55_111513_120x120_fill_box_smart1_3.png","permalink":"https://programcx.github.io/p/mybatis-%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/","title":"MyBatis å¸¸ç”¨é…ç½®"},{"content":"ä¸€ã€ç¯å¢ƒæ­å»º ä¾èµ–å¼•å…¥ åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u0026lt;dependencies\u0026gt; \u0026lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;org.mybatis\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mybatis\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.5.19\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- https://mvnrepository.com/artifact/com.mysql/mysql-connector-j --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.mysql\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;mysql-connector-j\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;9.1.0\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; \u0026lt;!-- https://mvnrepository.com/artifact/junit/junit --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;junit\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;junit\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;4.13.2\u0026lt;/version\u0026gt; \u0026lt;scope\u0026gt;test\u0026lt;/scope\u0026gt; \u0026lt;/dependency\u0026gt;\u0026lt;/dependencies\u0026gt; åˆ›å»ºæ•°æ®åº“è¿æ¥ä¿¡æ¯é…ç½®æ–‡ä»¶ åœ¨src/main/resources ç›®å½•ä¸‹åˆ›å»ºæ•°æ®åº“è¿æ¥çš„é…ç½®æ–‡ä»¶ï¼Œå‘½åä¸ºdb.propertiesï¼Œç”¨æ¥é…ç½®æ•°æ®åº“è¿æ¥æ—¶çš„å‚æ•°ã€‚\n1 2 3 4 mysql.driver = com.mysql.cj.jdbc.Driver mysql.url = jdbc:mysql://localhost:3306/mall?serverTimezone=UTC\u0026amp;\\characterEncoding=utf8\u0026amp;useUnicode=true\u0026amp;useSSL=false mysql.username = root mysql.password = mysql åˆ›å»º Mybatis çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE configuration PUBLIC \u0026#34;-//mybatis.org//DTD Config 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-config.dtd\u0026#34;\u0026gt; \u0026lt;!-- é…ç½®æ–‡ä»¶çš„æ ¹å…ƒç´  --\u0026gt; \u0026lt;configuration\u0026gt; \u0026lt;!-- å±æ€§ï¼šå®šä¹‰é…ç½®å¤–åœ¨åŒ– --\u0026gt; \u0026lt;properties resource=\u0026#34;db.properties\u0026#34;/\u0026gt; \u0026lt;!-- ç¯å¢ƒï¼šé…ç½®mybatisçš„ç¯å¢ƒ --\u0026gt; \u0026lt;environments default=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;!-- ç¯å¢ƒå˜é‡ï¼šå¯ä»¥é…ç½®å¤šä¸ªç¯å¢ƒå˜é‡ï¼Œæ¯”å¦‚ä½¿ç”¨å¤šæ•°æ®æºæ—¶ï¼Œå°±éœ€è¦é…ç½®å¤šä¸ªç¯å¢ƒå˜é‡ --\u0026gt; \u0026lt;environment id=\u0026#34;development\u0026#34;\u0026gt; \u0026lt;!-- äº‹åŠ¡ç®¡ç†å™¨ --\u0026gt; \u0026lt;transactionManager type=\u0026#34;JDBC\u0026#34;/\u0026gt; \u0026lt;!-- æ•°æ®æº --\u0026gt; \u0026lt;dataSource type=\u0026#34;POOLED\u0026#34;\u0026gt; \u0026lt;property name=\u0026#34;driver\u0026#34; value=\u0026#34;${mysql.driver}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;url\u0026#34; value=\u0026#34;${mysql.url}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;username\u0026#34; value=\u0026#34;${mysql.username}\u0026#34;/\u0026gt; \u0026lt;property name=\u0026#34;password\u0026#34; value=\u0026#34;${mysql.password}\u0026#34;/\u0026gt; \u0026lt;/dataSource\u0026gt; \u0026lt;/environment\u0026gt; \u0026lt;/environments\u0026gt; \u0026lt;/configuration\u0026gt; äºŒã€MyBatis å…¥é—¨ç¨‹åº ç¬¬ä¸€æ­¥ï¼šåˆ›å»º POJO å®ä½“ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package org.example.pojo; public class User { private int userID; private String userName; private String sex; public int getUserID() { return userID; } public void setUserID(int userID) { this.userID = userID; } public String getUserName() { return userName; } public void setUserName(String userName) { this.userName = userName; } public String getSex() { return sex; } public void setSex(String sex) { this.sex = sex; } } POJO å®ä½“ç”¨æ¥ä»æ•°æ®åº“æ˜ å°„çš„å€¼ã€‚\nç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ˜ å°„æ–‡ä»¶ UserMapper.xml æ–‡ä»¶å‘½å æ–‡ä»¶å‘½åé€šå¸¸ä½¿ç”¨POJO å®ä½“ç±»å+Mapper å‘½åã€‚ä¾‹å¦‚User å®ä½“ç±»æ˜ å°„æ–‡ä»¶åä¸º UserMapper.xml ã€‚\n1 2 3 4 5 6 7 8 \u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt; \u0026lt;!DOCTYPE mapper PUBLIC \u0026#34;-//mybatis.org//DTD Mapper 3.0//EN\u0026#34; \u0026#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd\u0026#34;\u0026gt; \u0026lt;mapper namespace=\u0026#34;org.example.pojo.User\u0026#34;\u0026gt; \u0026lt;select id=\u0026#34;findUserById\u0026#34; parameterType=\u0026#34;int\u0026#34; resultType=\u0026#34;org.example.pojo.User\u0026#34;\u0026gt; select * from user where userID = # {id} \u0026lt;/select\u0026gt; \u0026lt;/mapper\u0026gt; ç¬¬ä¸‰æ­¥ï¼šåœ¨ mybatis-config.xml é…ç½®æ–‡ä»¶é‡Œé¢æ·»åŠ æ˜ å°„ 1 2 3 \u0026lt;mappers\u0026gt; \u0026lt;mapper resource=\u0026#34;mapper/UserMapper.xml\u0026#34;/\u0026gt; \u0026lt;/mappers\u0026gt; æ­¤ä»£ç åœ¨\u0026lt;configuration\u0026gt;\u0026lt;configuration/\u0026gt; é‡Œé¢ç›´æ¥æ·»åŠ ã€‚\nç¬¬å››æ­¥ï¼šç¼–å†™æµ‹è¯•ç±» åœ¨ test/java/Test ä¸‹åˆ›å»º UserTest.java æ–‡ä»¶ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 package Test; import org.example.pojo.User; import org.apache.ibatis.io.Resources; import org.apache.ibatis.session.SqlSession; import org.apache.ibatis.session.SqlSessionFactory; import org.apache.ibatis.session.SqlSessionFactoryBuilder; import org.junit.Test; import java.io.IOException; import java.io.Reader; public class UserTest { @Test public void test() throws IOException { //ç¬¬ä¸€æ­¥ï¼šå°† mybatis-config.xml æ–‡ä»¶é‡Œé¢çš„å†…å®¹åŠ è½½åˆ° reader å¯¹è±¡ä¸­ Reader reader = Resources.getResourceAsReader(\u0026#34;mybatis-config.xml\u0026#34;); //ç¬¬äºŒæ­¥ï¼šåˆå§‹åŒ–MyBatisæ•°æ®åº“ï¼Œåˆ›å»º SqlSessionFactory ç±»çš„å®ä¾‹ SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(reader); //ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºSqlSessionä¼šè¯å®ä¾‹ SqlSession sqlSession = sqlSessionFactory.openSession(); //è·å–æŸ¥è¯¢åˆ°çš„ç»“æœæ˜ å°„åˆ°çš„å¯¹è±¡ User user = sqlSession.selectOne(\u0026#34;findUserById\u0026#34;, 1); System.out.println(user.getUserName()); sqlSession.close(); } } åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå…ˆé€šè¿‡Resourceçš„getResourceReader()æ–¹æ³•æ¥å°† MyBatis é…ç½®æ–‡ä»¶åŠ è½½åˆ° reader å¯¹è±¡ä¸­ï¼Œæ¥ç€å°†readä¼ å…¥ SqlSessionFactoryBuilder().build() å·¥å‚æ–¹æ³•æ¥æ„å»ºSqlSessionFactory ç±»çš„å¯¹è±¡ã€‚ä¹‹åè¿™ä¸ªå¯¹è±¡è°ƒç”¨openSessionæ–¹æ³•æ¥è·å–ä¸€ä¸ªSqlSessionä¼šè¯ã€‚ç„¶åè°ƒç”¨selectOne()æ¥è·å–æŸ¥è¯¢åˆ°çš„ç»“æœæ˜ å°„åˆ°çš„å¯¹è±¡ã€‚æœ€åå°±å¯ä»¥ç”¨Getæ–¹æ³•æ¥è·å–æƒ³å¾—åˆ°çš„æ•°æ®äº†ã€‚\nè¿è¡Œæµ‹è¯•ï¼Œå¾—åˆ°ç»“æœï¼š\n1 ChengXu ","date":"2025-01-15T00:00:00Z","image":"https://programcx.github.io/p/mybatis-%E5%85%A5%E9%97%A8/MyBatis_huf530186ff050aabde73a47f8290c5d55_111513_120x120_fill_box_smart1_3.png","permalink":"https://programcx.github.io/p/mybatis-%E5%85%A5%E9%97%A8/","title":"MyBatis å…¥é—¨"},{"content":"Java å®ç°æ–‡ä»¶ä¸‹è½½ ä½¿ç”¨HttpClientä¸‹è½½ é˜»å¡æ–¹å¼ä¸‹è½½ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 import java.io.IOException; import java.net.URI; import java.net.http.HttpRequest; import java.net.http.HttpResponse; import java.net.http.HttpClient; import java.nio.file.Paths; import java.nio.file.Path; public class Main { public static void main(String[] args) { downloadAFile(\u0026#34;https://pc-package.wpscdn.cn/wps/download/W.P.S.20.2735.exe\u0026#34;, \u0026#34;W.P.S.20.2735.exe\u0026#34;); } public static void downloadAFile(String url, String fileName) { HttpClient client = HttpClient.newHttpClient(); //åˆ›å»ºä¸€ä¸ªHttpRequestè¯·æ±‚ HttpRequest request = HttpRequest.newBuilder(URI.create(url)).build(); Path filePath = Paths.get(fileName); try { //å‘é€Httpè¯·æ±‚ HttpResponse\u0026lt;Path\u0026gt; response = client.send(request, HttpResponse.BodyHandlers.ofFile(filePath)); //åˆ¤æ–­æ˜¯å¦æˆåŠŸä¸‹è½½ if (response.statusCode() == 200) { System.out.printf(\u0026#34;æ–‡ä»¶%så·²ç»æˆåŠŸä¿å­˜!\u0026#34;, fileName); } } catch (IOException | InterruptedException e) { throw new RuntimeException(e); } } } åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå®ç°äº†ä¸€ä¸ªåä¸ºdownloadAFile()å‡½æ•°ã€‚ä½¿ç”¨ HttpClient.send() æ–¹æ³•å‘é€Httpè¯·æ±‚å¹¶å°†å“åº”ä½“å†™å…¥æ–‡ä»¶ï¼Œå¹¶è·å¾—HttpResponse\u0026lt;Path\u0026gt;ç±»å‹çš„responseå¯¹è±¡ï¼Œä½¿ç”¨è¯¥å¯¹è±¡è·å¾—è¯·æ±‚çš„çŠ¶æ€ç statusCodeã€‚\nå¼‚æ­¥æ–¹å¼ä¸‹è½½ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 import java.io.IOException; import java.net.URI; import java.net.http.HttpRequest; import java.net.http.HttpResponse; import java.net.http.HttpClient; import java.nio.file.Paths; import java.nio.file.Path; import java.util.Scanner; public class Main { public static void main(String[] args) { downloadAFile(\u0026#34;https://pc-package.wpscdn.cn/wps/download/W.P.S.20.2735.exe\u0026#34;, \u0026#34;W.P.S.20.2735.exe\u0026#34;); System.out.println(\u0026#34;ä¸‹è½½å·²ç»å¼€å§‹ï¼ŒæŒ‰å›è½¦é”®ç»“æŸ...\u0026#34;); Scanner scanner = new Scanner(System.in); scanner.nextLine(); } public static void downloadAFile(String url, String fileName) { HttpClient client = HttpClient.newHttpClient(); //åˆ›å»ºä¸€ä¸ªHttpRequestè¯·æ±‚ HttpRequest request = HttpRequest.newBuilder(URI.create(url)).build(); Path filePath = Paths.get(fileName); //å¼‚æ­¥ä¸‹è½½ client.sendAsync(request, HttpResponse.BodyHandlers.ofFile(filePath)).thenAccept(Main::downloadCallBack).exceptionally(e -\u0026gt; { System.out.println(\u0026#34;ä¸‹è½½å¤±è´¥ï¼\u0026#34; + e.getMessage()); return null; }); } private static void downloadCallBack(HttpResponse\u0026lt;Path\u0026gt; pathHttpResponse) { if (pathHttpResponse.statusCode() == 200) { System.out.println(\u0026#34;ä¸‹è½½æˆåŠŸï¼æ–‡ä»¶å·²ç»ä¿å­˜è‡³ï¼š\u0026#34; + pathHttpResponse.body()); } else { System.out.printf(\u0026#34;ä¸‹è½½å¤±è´¥ï¼çŠ¶æ€ç ä¸º%dã€‚\\n\u0026#34;, pathHttpResponse.statusCode()); } } } è¿™é‡Œä½¿ç”¨client.sendAsync()å¼‚æ­¥ä¸‹è½½æ–‡ä»¶ï¼ŒthenAccept()æ¥æŒ‡å®šä¸‹è½½å®Œæˆæ—¶çš„å›è°ƒå‡½æ•°ï¼Œexceptionally()æ¥å¤„ç†å¼‚å¸¸ã€‚æ³¨æ„ï¼Œç”±äºè¿™é‡Œæ˜¯å¼‚æ­¥ä¸‹è½½çš„ï¼Œä¸èƒ½ä½¿ç”¨try{}catch{}æ¥å¤„ç†å¼‚å¸¸ï¼Œå¼‚å¸¸ä¸èƒ½è¢«æ•è·ã€‚\nä½¿ç”¨OKHttpä¸‹è½½ å¯¼å…¥OkHttpä¾èµ– åœ¨pom.xmlçš„\u0026lt;dependencies\u0026gt;\u0026lt;/dependencies\u0026gt;ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 \u0026lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --\u0026gt; \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.squareup.okhttp3\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;okhttp\u0026lt;/artifactId\u0026gt; \u0026lt;version\u0026gt;3.14.9\u0026lt;/version\u0026gt; \u0026lt;/dependency\u0026gt; OKHttpè·å–æ–‡æœ¬æ–‡ä»¶ Download.java\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 package org.example; import okhttp3.*; import java.io.IOException; public class Download{ public final OkHttpClient client = new OkHttpClient(); public void run() throws IOException { Request request = new Request.Builder().url(\u0026#34;http://www.baidu.com\u0026#34;).build(); try(Response response = client.newCall(request).execute()){ if (response.body() != null) { System.out.println(response.body().string()); } }catch (Exception e){ System.out.println(e.getMessage()); } } } Main.java\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 package org.example; import java.io.IOException; public class Main { public static void main(String[] args) { Download download = new Download(); try{ download.run(); } catch (IOException e) { throw new RuntimeException(e); } } } OKHttpå¼‚æ­¥è¯·æ±‚ Download.java\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 package org.example; import okhttp3.*; import java.io.File; import java.io.FileOutputStream; import java.io.IOException; import java.io.InputStream; import java.util.Objects; public class Download { private final String url; private final String fileName; private final String filePath; private final OkHttpClient client = new OkHttpClient(); public Download(String url, String fileName, String filePath) { this.url = url; this.fileName = fileName; this.filePath = filePath; } public void run() { Request request = new Request.Builder().url(url).build(); Call call = client.newCall(request); call.enqueue(new Callback() { @Override public void onFailure(Call call, IOException e) { e.printStackTrace(); } @Override //å“åº”æ—¶çš„å›è°ƒå‡½æ•° public void onResponse(Call call, Response response) throws IOException { if (!response.isSuccessful()) { throw new IOException(\u0026#34;Unexpected code \u0026#34; + response); } try (InputStream inputStream = Objects.requireNonNull(response.body()).byteStream(); //ä»å“åº”ä½“è·å–å­—èŠ‚æµ FileOutputStream outputStream = new FileOutputStream(new File(filePath, fileName))) { //åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµ byte[] buffer = new byte[2048]; //åˆ›å»ºç¼“å­˜åŒºï¼Œå¤§å°ä¸º2048KB int len; //ç”¨äºè¿˜å‰©ä¸‹å¤šå°‘å­—èŠ‚æ²¡æœ‰è¢«è¯»å– while ((len = inputStream.read(buffer)) != -1) { //è¿˜æ²¡æœ‰è¢«è¯»å–å®Œ outputStream.write(buffer, 0, len); //å°†ç¼“å†²åŒºæ•°æ®å†™å…¥æ–‡ä»¶ } System.out.printf(\u0026#34;æ–‡ä»¶%så·²ä¸‹è½½è‡³%s%n\u0026#34;, fileName, filePath); } catch (IOException e) { e.printStackTrace(); } } }); } } Main.java\n1 2 3 4 5 6 7 8 9 10 11 package org.example; public class Main { public static void main(String[] args) { String url = \u0026#34;https://down-tencent.huorong.cn/sysdiag-all-x64-6.0.4.0-2024.11.16.1.exe\u0026#34;; String filename = \u0026#34;sysdiag-all-x64-6.0.4.0-2024.11.16.1.exe\u0026#34;; Download download = new Download(url, filename, \u0026#34;D:/\u0026#34;); download.run(); } } ä¸Šè¿°ä»£ç ä¸­ï¼Œä½¿ç”¨Request.Builder().url(url).build()åˆ›å»ºä¸€ä¸ªRequestå¯¹è±¡ï¼Œä½¿ç”¨Callç±»çš„callå¯¹è±¡å‘èµ·Http Getè¯·æ±‚ï¼Œä½¿ç”¨enqueue()æ–¹æ³•å¤„ç†å“åº”å’Œé”™è¯¯ã€‚ åœ¨å¤„ç†å“åº”æ—¶ï¼Œé¦–å…ˆå°†response.body()å“åº”ä½“é€šè¿‡byteStream()æ–¹æ³•è½¬åŒ–ä¸ºå­—èŠ‚æµï¼Œç„¶åäºFileInputStreamä¸€èµ·ä½¿ç”¨å†™å…¥æ–‡ä»¶ã€‚\nOKHttpåŒæ­¥è¯·æ±‚ æ— éœ€ä½¿ç”¨call.enqueue()æ–¹æ³•ï¼Œæœ€åä½¿ç”¨æ–­è¨€assertThat(response.code(), equalTo(200));åˆ¤æ–­çŠ¶æ€ç æ˜¯å¦ç­‰äº200å³å¯ã€‚\nè‡ªå®šä¹‰è¯·æ±‚å¤´ 1 Request request = new Request.Builder().url(url).addHeader(\u0026#34;Content-Length\u0026#34;,\u0026#34;application/x-msdownload\u0026#34;).build(); å…è®¸é‡å®šå‘ 1 private final OkHttpClient client = new OkHttpClient().newBuilder().followRedirects(true).build(); è¶…æ—¶è®¾ç½® 1 private final OkHttpClient client = new OkHttpClient().newBuilder().readTimeout(3, TimeUnit.SECONDS).build(); å–æ¶ˆè¯·æ±‚ å¯ä»¥ä½¿ç”¨Call.cancel()ç»ˆæ­¢è¯·æ±‚ã€‚\n","date":"2024-11-16T00:00:00Z","image":"https://programcx.github.io/p/java-%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/java_hu2582121eb752963b1ceb7fad85fc990d_36519_120x120_fill_q75_box_smart1.jpg","permalink":"https://programcx.github.io/p/java-%E5%AE%9E%E7%8E%B0%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD/","title":"Java å®ç°æ–‡ä»¶ä¸‹è½½"},{"content":"Vue 3 æŠ¥é”™Uncaught TypeError:xxx.component is not a function è®°å½•å­¦ä¹ Vue 3è¿‡ç¨‹ä¸­è¸©çš„å‘\nä¸€ã€é”™è¯¯ä»£ç  æœ‰ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 const vueWatcher = { methods: { click(index) { if (index == 0) { alert(\u0026#34;å¤–å±‚\u0026#34;); } else if (index == 1) { alert(\u0026#34;ä¸­å±‚\u0026#34;); } else if (index == 2) { alert(\u0026#34;å†…å±‚\u0026#34;); } }, KeyDownCtrl() { alert(\u0026#34;Ctrl Pressed\u0026#34;); } } } const app = Vue.createApp(vueWatcher).mount(\u0026#34;#vue-watcher\u0026#34;); const alertComponent = { data() { return { msg: \u0026#34;è­¦å‘Š\u0026#34;, } }, methods: { click() { alert(this.msg); } }, template: \u0026#39;\u0026lt;div\u0026gt;\u0026lt;button @click=\u0026#34;click\u0026#34;\u0026gt;æŒ‰é’®\u0026lt;/button\u0026gt;\u0026lt;/div\u0026gt;\u0026#39; } app.component(\u0026#34;alert-component\u0026#34;, alertComponent); æˆ‘ä»¬æ˜¯æƒ³è¦ç»™ appå¯¹è±¡æ·»åŠ ä¸€ä¸ªæ ‡å‡†çš„Vueç»„ä»¶alert-componentï¼Œä½†æ˜¯æµè§ˆå™¨æŠ¥é”™Uncaught TypeError:app.component is not a functionã€‚\näºŒã€åˆ†æåŸå›  å…¶å®è¿™æ˜¯ä¸€ä¸ªæ·»åŠ å­ç»„ä»¶é¡ºåºçš„é—®é¢˜ã€‚ä¸Šè¿°é”™è¯¯ä»£ç ä¸­ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªåä¸ºappçš„Vueå¯¹è±¡ï¼Œæ¥ç€æŒ‚è½½åˆ°vue-watcherä¸Šï¼Œæœ€åæ·»åŠ å­ç»„ä»¶alert-componetã€‚ è¿™ç§é¡ºåºæ˜¯é”™è¯¯çš„ï¼Œæ­£ç¡®çš„é¡ºåºåº”è¯¥æ˜¯ï¼š\nåˆ›å»ºä¸€ä¸ªåä¸ºappçš„Vueå¯¹è±¡ï¼› 1 const app = Vue.createApp(vueWatcher); æ·»åŠ å­ç»„ä»¶alert-componetï¼› 1 app.component(\u0026#34;alert-component\u0026#34;, alertComponent); æŒ‚è½½åˆ°vue-watcherä¸Šã€‚ 1 app.mount(\u0026#34;#vue-watcher\u0026#34;); ä¸‰ã€æ­£ç¡®ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 const vueWatcher = { methods: { click(index) { if (index == 0) { alert(\u0026#34;å¤–å±‚\u0026#34;); } else if (index == 1) { alert(\u0026#34;ä¸­å±‚\u0026#34;); } else if (index == 2) { alert(\u0026#34;å†…å±‚\u0026#34;); } }, KeyDownCtrl() { alert(\u0026#34;Ctrl Pressed\u0026#34;); } } } const app = Vue.createApp(vueWatcher); const alertComponent = { data() { return { msg: \u0026#34;è­¦å‘Š\u0026#34;, } }, methods: { click() { alert(this.msg); } }, template: \u0026#39;\u0026lt;div\u0026gt;\u0026lt;button @click=\u0026#34;click\u0026#34;\u0026gt;æŒ‰é’®\u0026lt;/button\u0026gt;\u0026lt;/div\u0026gt;\u0026#39; } app.component(\u0026#34;my\u0026#34;, alertComponent); app.mount(\u0026#34;#vue-watcher\u0026#34;); æ¬¢è¿æŒ‡æ­£é”™è¯¯ï¼\n","date":"2024-10-15T00:00:00Z","image":"https://programcx.github.io/p/uncaught-typeerrorxxx.component-is-not-a-function/vue.svg","permalink":"https://programcx.github.io/p/uncaught-typeerrorxxx.component-is-not-a-function/","title":"Uncaught TypeError:xxx.component is not a function"},{"content":"Qt 5.15 connect() å‡½æ•°çš„ä¸€ä¸ªå¤§å‘ æœ‰ä»¥ä¸‹ä»£ç ï¼š\n1 2 3 4 5 connect(ui-\u0026gt;styleComboBox, \u0026amp;QComboBox::currentIndexChanged, this, [this](int index) { //TODO: change theme spdlog::info(\u0026#34;User change default theme to {}\u0026#34;, index); AppConfig::instance().setBasic(\u0026#34;style\u0026#34;, index); }); ä»¥ä¸Šä»£ç å°†ui-\u0026gt;styleComboBoxçš„QComboBox::currentTextChangedä¿¡å·è¿æ¥è‡³lambdaè¡¨è¾¾å¼é‡Œçš„åŒ¿åå‡½æ•°ã€‚çœ‹ä¼¼æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯åœ¨Qt 5.15ä¸ŠæŠ¥é”™ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 /Users/runner/work/FlowD/FlowD/src/SettingsBasicWidget.cpp:21:5: error: no matching member function for call to \u0026#39;connect\u0026#39; connect(ui-\u0026gt;styleComboBox, \u0026amp;QComboBox::currentIndexChanged, this, [this](int index) { ^~~~~~~ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:222:36: note: candidate function not viable: no overload of \u0026#39;currentIndexChanged\u0026#39; matching \u0026#39;const char *\u0026#39; for 2nd argument static QMetaObject::Connection connect(const QObject *sender, const char *signal, ^ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:225:36: note: candidate function not viable: no overload of \u0026#39;currentIndexChanged\u0026#39; matching \u0026#39;const QMetaMethod\u0026#39; for 2nd argument static QMetaObject::Connection connect(const QObject *sender, const QMetaMethod \u0026amp;signal, ^ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:481:41: note: candidate function not viable: no overload of \u0026#39;currentIndexChanged\u0026#39; matching \u0026#39;const char *\u0026#39; for 2nd argument inline QMetaObject::Connection QObject::connect(const QObject *asender, const char *asignal, ^ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:242:43: note: candidate template ignored: couldn\u0026#39;t infer template argument \u0026#39;Func1\u0026#39; static inline QMetaObject::Connection connect(const typename QtPrivate::FunctionPointer\u0026lt;Func1\u0026gt;::Object *sender, Func1 signal, ^ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:283:13: note: candidate template ignored: couldn\u0026#39;t infer template argument \u0026#39;Func1\u0026#39; connect(const typename QtPrivate::FunctionPointer\u0026lt;Func1\u0026gt;::Object *sender, Func1 signal, const QObject *context, Func2 slot, ^ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:322:13: note: candidate template ignored: couldn\u0026#39;t infer template argument \u0026#39;Func1\u0026#39; connect(const typename QtPrivate::FunctionPointer\u0026lt;Func1\u0026gt;::Object *sender, Func1 signal, const QObject *context, Func2 slot, ^ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:274:13: note: candidate function template not viable: requires 3 arguments, but 4 were provided connect(const typename QtPrivate::FunctionPointer\u0026lt;Func1\u0026gt;::Object *sender, Func1 signal, Func2 slot) ^ /Users/runner/work/FlowD/Qt/5.15.2/clang_64/lib/QtCore.framework/Headers/qobject.h:314:13: note: candidate function template not viable: requires 3 arguments, but 4 were provided connect(const typename QtPrivate::FunctionPointer\u0026lt;Func1\u0026gt;::Object *sender, Func1 signal, Func2 slot) ^ 1 error generated. ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿ å› ä¸ºQComboBox æœ‰ä¸¤ä¸ªé‡è½½çš„ä¿¡å·ï¼ŒåŸå‹åˆ†åˆ«æ˜¯void\tcurrentTextChanged(const QString \u0026amp;text)å’Œvoid\tcurrentIndexChanged(int index)ï¼Œä¸Šé¢çš„ä»£ç æˆ‘ä»¬æ˜æ˜¾æ˜¯æƒ³è¦è¿æ¥void\tcurrentIndexChanged(int index)è¿™ä¸ªä¿¡å·ï¼Œä½†æ˜¯ç¼–è¯‘å™¨å½“æˆäº†void\tcurrentTextChanged(const QString \u0026amp;text)è¿™ä¸ªä¿¡å·ï¼Œæ‰€ä»¥ä¼šæŠ¥å‡ºå‚æ•°ä¸åŒ¹é…çš„é”™è¯¯:matching member function for call to 'connect' connect(ui-\u0026gt;styleComboBox, \u0026amp;QComboBox::currentIndexChanged, this, [this](int index) ã€‚ ä¸Šé¢çš„ä»£ç åœ¨Qt 6ä¸Šä¸ä¼šæŠ¥é”™ã€‚\næˆ‘ä»¬è¯¥å¦‚ä½•è§£å†³å‘¢ï¼Ÿåªéœ€ä½¿ç”¨é¢„å®šä¹‰å®ï¼Œå°†æ¯”Qt 6.0.0ç‰ˆæœ¬ä½çš„éƒ¨åˆ†çš„ä»£ç æ”¹æˆQOverload\u0026lt;int\u0026gt;::of(\u0026amp;QComboBox::currentIndexChanged)å³å¯ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 #if QT_VERSION \u0026lt;= QT_VERSION_CHECK(6, 0, 0) connect(ui-\u0026gt;styleComboBox, QOverload\u0026lt;int\u0026gt;::of(\u0026amp;QComboBox::currentIndexChanged), this, [this](int index) { //TODO: change theme spdlog::info(\u0026#34;User change default theme to {}\u0026#34;, index); AppConfig::instance().setBasic(\u0026#34;style\u0026#34;, index); }); #else connect(ui-\u0026gt;styleComboBox, \u0026amp;QComboBox::currentIndexChanged, this, [this](int index) { //TODO: change theme spdlog::info(\u0026#34;User change default theme to {}\u0026#34;, index); AppConfig::instance().setBasic(\u0026#34;style\u0026#34;, index); }); #endif ","date":"2024-09-16T00:00:00Z","image":"https://programcx.github.io/p/qt-5.15-connect-%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A4%A7%E5%9D%91/qt_hu6cd4f64cbe970e806893d3bd1f4a2f5a_17484_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://programcx.github.io/p/qt-5.15-connect-%E5%87%BD%E6%95%B0%E7%9A%84%E4%B8%80%E4%B8%AA%E5%A4%A7%E5%9D%91/","title":"Qt 5.15 connect() å‡½æ•°çš„ä¸€ä¸ªå¤§å‘"},{"content":"Javaä¸­superå…³é”®å­—çš„ç†è§£ è®¿é—®è¶…ç±»çš„æˆå‘˜å‡½æ•°å’Œå˜é‡ ä¸¾ä¸ªä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 class Main { public static void main(String[] args) { Manager manager = new Manager(); manager.setBonus(8000); System.out.println(manager.getSalary()); } } class Employee{ private int salary = 6000; public void setSalary(int salary){ this.salary=salary; } public int getSalary(){ return salary; } } class Manager extends Employee{ private int bonus = 0; public void setBonus(int bonus){ this.bonus=bonus; } public int getBonus(){ return bonus; } //è¦†ç›–è¶…ç±»çš„å‡½æ•° @Override public int getSalary(){ return bonus + this.salary; } } è¿™æ®µä»£ç å£°æ˜äº†è¶…ç±»Employeeï¼Œä»¥åŠç»§æ‰¿äº†è¿™ä¸ªè¶…ç±»çš„Managerç±»ã€‚å®šä¹‰äº†Managerç±»çš„managerå¯¹è±¡ï¼Œmanagerçš„å¥–é‡‘è®¾ç½®ä¸º8000å…ƒã€‚æœ€åæ‰“å°å‡ºmanagerçš„æ€»è–ªæ°´ã€‚ ä½†æ˜¯ï¼Œè¿™æ®µä»£ç æœ‰ä¸€ä¸ªå¾ˆä¸¥é‡çš„é”™è¯¯ã€‚ç”±äºåœ¨è¶…ç±»Employeeä¸­ï¼Œsalaryä¸ºprivateç±»å‹çš„ï¼Œæ‰€ä»¥manageræ— æ³•è®¿é—®salaryçš„å€¼ã€‚ä¸ºäº†éµå¾ªæ•°æ®çš„éšè”½æ€§åŸåˆ™ï¼Œæˆ‘ä»¬ä¸èƒ½å°†å®ƒå®šä¹‰ä¸ºpublicç±»å‹ã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©superå…³é”®å­—æ¥è¾¾åˆ°ç›®çš„ã€‚\nä»¥ä¸‹æ˜¯ä¿®æ”¹è¿‡çš„ä»£ç ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 class Main { public static void main(String[] args) { Manager manager = new Manager(); manager.setBonus(8000); System.out.println(manager.getSalary()); } } class Employee{ private int salary = 6000; public void setSalary(int salary){ this.salary = salary; } //è·å¾—salaryçš„å€¼ public int getSalary(){ return salary; } } class Manager extends Employee{ private int bonus = 0; public void setBonus(int bonus){ this.bonus = bonus; } public int getBonus(){ return bonus; } @Override public int getSalary(){ return bonus + super.getSalary();\t//æ”¹ä¸º super.getSalary } } åœ¨è¿™æ®µä»£ç ä¸­ï¼Œå¢åŠ äº†getSalary()å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¿”å›salaryçš„å€¼ã€‚ç”±äºå¯ä»¥ä½¿ç”¨å…³é”®å­—superè®¿é—®è¶…ç±»çš„æˆå‘˜å‡½æ•°å’Œå˜é‡ï¼Œsuper.getSalary()å°±è·å¾—äº†Employeeç±»çš„salaryå˜é‡ã€‚\nè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³• ä¸¾ä¸ªä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 class Main { public static void main(String[] args) { Manager manager = new Manager(8000); manager.setBonus(800); System.out.println(manager.getSalary()); } } class Employee{ public Employee(int salary){ this.salary = salary; } private int salary = 6000; public void setSalary(int salary){ this.salary = salary; } public int getSalary(){ return salary; } } class Manager extends Employee{ private int bonus = 0; public Manager(int salary) { super(salary);\t//è°ƒç”¨è¶…ç±»çš„æ„é€ å™¨ } public void setBonus(int bonus){ this.bonus = bonus; } public int getBonus(){ return bonus; } @Override public int getSalary(){ return bonus + super.getSalary(); } } mangeræ— æ³•è®¿é—®è¶…ç±»çš„ç§æœ‰æˆå‘˜ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡è¶…ç±»çš„æ„é€ å™¨æ¥è®¿é—®å®ƒä»¬ã€‚\næ³¨æ„ï¼šè¶…ç±»çš„æ„é€ å™¨å¿…é¡»æ˜¯å­ç±»çš„æ„é€ å™¨é‡Œé¢çš„ç¬¬ä¸€ä¸ªè¯­å¥ï¼\nè§£å†³æˆå‘˜å˜é‡åæˆ–æ–¹æ³•åå†²çª ä¸¾ä¸ªä¾‹å­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 class Parent { int x = 10; } class Child extends Parent { int x = 20; void display() { System.out.println(\u0026#34;Child x = \u0026#34; + x); // è®¿é—® Child ç±»çš„ x System.out.println(\u0026#34;Parent x = \u0026#34; + super.x); // ä½¿ç”¨ super è®¿é—® Parent ç±»çš„ x } } å½“å­ç±»ä¸­çš„æˆå‘˜å˜é‡åæˆ–æ–¹æ³•åä¸è¶…ç±»ä¸­çš„æˆå‘˜å˜é‡åæˆ–æ–¹æ³•åç›¸åŒæ—¶ï¼Œå­ç±»ä¸­çš„æ–¹æ³•æˆ–å˜é‡ä¼šéšè—è¶…ç±»ä¸­çš„æ–¹æ³•æˆ–å˜é‡ã€‚æ­¤æ—¶ï¼Œå¦‚æœä½ æƒ³åœ¨å­ç±»ä¸­è®¿é—®è¢«éšè—çš„è¶…ç±»æˆå‘˜ï¼Œå°±éœ€è¦ä½¿ç”¨super å…³é”®å­—ã€‚\n","date":"2024-09-09T00:00:00Z","image":"https://programcx.github.io/p/java%E4%B8%ADsuper%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E7%90%86%E8%A7%A3/java_hu2582121eb752963b1ceb7fad85fc990d_36519_120x120_fill_q75_box_smart1.jpg","permalink":"https://programcx.github.io/p/java%E4%B8%ADsuper%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E7%90%86%E8%A7%A3/","title":"Javaä¸­superå…³é”®å­—çš„ç†è§£"},{"content":"C++ä»£ç è§„èŒƒæ€»ç»“ï¼ˆéƒ¨åˆ†ï¼‰ ä¸‹é¢å†…å®¹æ€»ç»“ï¼ˆæœ‰çš„æ˜¯ç›´æ¥å¤åˆ¶æ¦‚è¿°ï¼Œå› ä¸ºåŸæ–‡è®²çš„æ¯”è¾ƒä¸¥è°¨ï¼‰äºhttps://zh-google-styleguide.readthedocs.io/en/latest/google-cpp-styleguide/\nå¤´æ–‡ä»¶ #includeçš„è·¯å¾„å’Œé¡ºåºï¼ˆæ¯ä¸ªç±»å‹ä¹‹é—´è¦æœ‰ç©ºè¡Œï¼‰ é…å¥—çš„å¤´æ–‡ä»¶ Cè¯­è¨€ç³»ç»Ÿæ–‡ä»¶ C++æ ‡å‡†åº“å¤´æ–‡ä»¶ å…¶ä»–åº“çš„å¤´æ–‡ä»¶ æœ¬é¡¹ç›®çš„å¤´æ–‡ä»¶ è¦æœ‰#defineé˜²æŠ¤ç¬¦ é¿å…å‘å‰å£°æ˜ 10è¡Œä»¥ä¸‹ç”¨å†…è”å‡½æ•° ä½œç”¨åŸŸ ç¦æ­¢ä½¿ç”¨using namespace ...; å¤§å‹é¡¹ç›®è¦ä½¿ç”¨å‘½åç©ºé—´ï¼Œä»¥æ³¨é‡Šç»“å°¾ å°½é‡å°†éæˆå‘˜å‡½æ•°æ”¾å…¥å‘½åç©ºé—´ï¼Œä¸è¦ä½¿ç”¨å…¨å±€å‡½æ•° æœ€å¥½åˆå§‹åŒ–æ—¶å£°æ˜ è¦åœ¨å¾ªç¯å¤–å£°æ˜ç±» å°½é‡ä¸è¦ä½¿ç”¨å…¨å±€çš„é™æ€å˜é‡ã€ç±»ï¼Œé™¤éå®ƒä»¬å¯ä»¥å¹³å‡¡åœ°ææ„ æ„é€ å‡½æ•°ä¸­ä¸å¾—ä½¿ç”¨è™šå‡½æ•°ï¼Œ å°½é‡ä¸è¦ä½¿ç”¨éšå¼è½¬æ¢ç±»å‹ï¼Œå•å‚æ•°å‡½æ•°ä½¿ç”¨explicitå…³é”®å­— intã€doubleç­‰ç±»å‹å»ºè®®ä½¿ç”¨ä¼ å€¼ã€std::stringç­‰ç±»å‹å»ºè®®ä½¿ç”¨ä¼ å¼•ç”¨ï¼Œå°½é‡ä¸è¦ä¼ æŒ‡é’ˆ åŸºç±»æœ€å¥½æ˜¯æŠ½è±¡ç±»ï¼Œä¸”æ„é€ å‡½æ•°å’Œææ„å‡½æ•°å¿…é¡»å£°æ˜ä¸ºprotectedï¼Œæœ€å¥½ä¸è¦ç»§æ‰¿å…·ä½“ç±» åªèƒ½ç”¨ struct å®šä¹‰é‚£äº›ç”¨äºå‚¨å­˜æ•°æ®çš„è¢«åŠ¨å¯¹è±¡. å…¶ä»–æƒ…å†µåº”è¯¥ä½¿ç”¨ class ç»„åˆä¼˜äºç»§æ‰¿ï¼Œä½¿ç”¨publicç»§æ‰¿ è°¨æ…ä½¿ç”¨é‡è½½è¿ç®—ç¬¦ï¼Œé™¤éä¸ç›´è§‰ç›¸åŒï¼›ç¦æ­¢ä½¿ç”¨è‡ªå®šä¹‰å­—é¢é‡ å¿…é¡»å°†æ‰€æœ‰æ•°æ®æˆå‘˜å£°æ˜ä¸ºprivate å£°æ˜æ¬¡åº public protected private ä»¥ä¸‹æ˜¯æ¯ä¸€ä¸ªä¸åŒä½œç”¨åŸŸçš„å£°æ˜æ¬¡åºï¼š ç±»å‹å’Œç±»å‹åˆ«å ï¼ˆä»…é€‚ç”¨äºç»“æ„ä½“ï¼‰ï¼Œéé™æ€æ•°æ®æˆå‘˜ é™æ€å¸¸é‡ å·¥å‚å‡½æ•° æ„é€ å‡½æ•°å’Œèµ‹å€¼è¿ç®—ç¬¦ ææ„å‡½æ•° æ‰€æœ‰å…¶ä»–å‡½æ•°ï¼ŒåŒ…æ‹¬é™æ€å’Œéé™æ€å‡½æ•°ï¼Œä»¥åŠå‹å…ƒå‡½æ•° å…¶å®ƒæ•°æ®æˆå‘˜ï¼ŒåŒ…æ‹¬é™æ€å’Œéé™æ€çš„ å‡½æ•° è¡Œæ•°è¶…è¿‡40è¡Œåœ¨ä¸å½±å“ç¨‹åºé€»è¾‘çš„æƒ…å†µä¸‹è¦è¿›è¡Œåˆ†å‰² åªæœ‰åœ¨å¸¸è§„å†™æ³• (è¿”å›ç±»å‹å‰ç½®) ä¸ä¾¿äºä¹¦å†™æˆ–ä¸ä¾¿äºé˜…è¯»æ—¶ä½¿ç”¨è¿”å›ç±»å‹åç½®è¯­æ³• å°½é‡ä¸ä½¿ç”¨ç¼ºçœå‡½æ•°å‚æ•°ï¼Œå°‘æ•°æç«¯æƒ…å†µé™¤å¤–ã€‚å°½å¯èƒ½æ”¹ç”¨å‡½æ•°é‡è½½ å…è®¸åˆç†çš„ä½¿ç”¨å‹å…ƒç±»åŠå‹å…ƒå‡½æ•° å…¶å®ƒC++ç‰¹æ€§ å°½é‡ä¸ä½¿ç”¨ C++ å¼‚å¸¸. ä¸è¦ä½¿ç”¨å¼ºåˆ¶è½¬æ¢ é™¤äº†å†™æ—¥å¿—ï¼Œå°½é‡ä¸è¦ä½¿ç”¨æµ å¯¹äºè¿­ä»£å™¨å’Œå…¶ä»–æ¨¡æ¿å¯¹è±¡ä½¿ç”¨å‰ç¼€å½¢å¼ (++i) çš„è‡ªå¢, è‡ªå‡è¿ç®—ç¬¦ ä»»ä½•å¯èƒ½çš„æƒ…å†µä¸‹éƒ½è¦ä½¿ç”¨ const ä½¿ç”¨å®æ—¶è¦éå¸¸è°¨æ…, å°½é‡ä»¥å†…è”å‡½æ•°, æšä¸¾å’Œå¸¸é‡ä»£æ›¿ä¹‹ æŒ‡é’ˆä½¿ç”¨nullptrï¼Œå­—ç¬¦ä½¿ç”¨'\\0'ï¼Œè€Œä¸æ˜¯0å­—é¢é‡ å°½å¯èƒ½ç”¨ sizeof(varname) ä»£æ›¿ sizeof(type) ä½¿ç”¨autoç»•è¿‡ç¹ççš„ç±»å‹åç§°ï¼Œä½†è¦å¯è¯»æ€§å¥½ å¯ä»¥ç”¨åˆ—è¡¨åˆå§‹åŒ– ä½¿ç”¨é¢„å¤„ç†å®æ—¶è¦éå¸¸è°¨æ…ï¼Œä¸‹é¢æ˜¯è¦ä½¿ç”¨å®æ—¶éœ€è¦éµå®ˆçš„è§„åˆ™ï¼š ä¸è¦åœ¨å¤´æ–‡ä»¶ä¸­ä½¿ç”¨å® åœ¨é©¬ä¸Šè¦ä½¿ç”¨æ—¶æ‰è¿›è¡Œ #define, ä½¿ç”¨åè¦ç«‹å³#undef ä¸è¦åªæ˜¯å¯¹å·²ç»å­˜åœ¨çš„å®ä½¿ç”¨#undefï¼Œé€‰æ‹©ä¸€ä¸ªä¸ä¼šå†²çªçš„åç§° ä¸è¦è¯•å›¾ä½¿ç”¨å±•å¼€åä¼šå¯¼è‡´ C++ æ„é€ ä¸ç¨³å®šçš„å®, ä¸ç„¶ä¹Ÿè‡³å°‘è¦é™„ä¸Šæ–‡æ¡£è¯´æ˜å…¶è¡Œä¸º ä¸è¦ç”¨ ## å¤„ç†å‡½æ•°ï¼Œç±»å’Œå˜é‡çš„åå­— é€‚å½“ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼Œå½“lambdaå°†è½¬ç§»å½“å‰ä½œç”¨åŸŸæ—¶ï¼Œé¦–é€‰æ˜¾å¼æ•æ‰ ä¸è¦ä½¿ç”¨å¤æ‚çš„æ¨¡æ¿ç¼–ç¨‹ å‘½åçº¦å®š å‡½æ•°å‘½å, å˜é‡å‘½å, æ–‡ä»¶å‘½åè¦æœ‰æè¿°æ€§; å°‘ç”¨ç¼©å†™ æ–‡ä»¶åå…¨éƒ¨è¦å°å†™ï¼Œå¯ä»¥åŒ…å«â€œ-â€æˆ–â€œ_â€ ç±»å‹åç§°é¦–å­—æ¯è¦å¤§å†™ï¼Œä¸èƒ½æœ‰ä¸‹åˆ’çº¿ å˜é‡å‘½åè¦å…¨éƒ¨å°å†™ï¼Œå•è¯ä¹‹é—´ä½¿ç”¨ä¸‹åˆ’çº¿ å¸¸è§„å‡½æ•°ä½¿ç”¨å¤§å°å†™æ··åˆ å‘½åç©ºé—´è¦å°å†™ï¼Œä¸å¯ä»¥å‡ºç°ç¼©å†™ æšä¸¾çš„å‘½ååº”å½“å’Œå¸¸é‡æˆ–å®ä¸€è‡´ é€šå¸¸ä¸åº”è¯¥ä½¿ç”¨å®. å¦‚æœä¸å¾—ä¸ç”¨, å…¶å‘½ååƒæšä¸¾å‘½åä¸€æ ·å…¨éƒ¨å¤§å†™, ä½¿ç”¨ä¸‹åˆ’çº¿ æ³¨é‡Š åœ¨æ¯ä¸€ä¸ªæ–‡ä»¶å¼€å¤´åŠ å…¥ç‰ˆæƒå…¬å‘Šï¼ŒåŒ…å«æ³•å¾‹ã€ç‰ˆæƒã€ä½œè€…ä¿¡æ¯ã€‚åº”å½“å¯¹æ–‡ä»¶çš„å†…å®¹åšä¸€ä¸ªå¤§è‡´çš„è¯´æ˜, åŒæ—¶è¯´æ˜å„æ¦‚å¿µä¹‹é—´çš„è”ç³»ã€‚ æ¯ä¸ªç±»çš„å®šä¹‰éƒ½è¦é™„å¸¦ä¸€ä»½æ³¨é‡Š, æè¿°ç±»çš„åŠŸèƒ½å’Œç”¨æ³•, é™¤éå®ƒçš„åŠŸèƒ½ç›¸å½“æ˜æ˜¾ å‡½æ•°å£°æ˜å¤„çš„æ³¨é‡Šæè¿°å‡½æ•°åŠŸèƒ½; å®šä¹‰å¤„çš„æ³¨é‡Šæè¿°å‡½æ•°å®ç° æ¯ä¸ªç±»æ•°æ®æˆå‘˜ (ä¹Ÿå«å®ä¾‹å˜é‡æˆ–æˆå‘˜å˜é‡) éƒ½åº”è¯¥ç”¨æ³¨é‡Šè¯´æ˜ç”¨é€”,å¦‚æœå˜é‡å¯ä»¥æ¥å— NULL æˆ– -1 ç­‰è­¦æˆ’å€¼, é¡»åŠ ä»¥è¯´æ˜ æ‰€æœ‰å…¨å±€å˜é‡ä¹Ÿè¦æ³¨é‡Šè¯´æ˜å«ä¹‰åŠç”¨é€”, ä»¥åŠä½œä¸ºå…¨å±€å˜é‡çš„åŸå›  å¯¹äºä»£ç ä¸­å·§å¦™çš„, æ™¦æ¶©çš„, æœ‰è¶£çš„, é‡è¦çš„åœ°æ–¹åŠ ä»¥æ³¨é‡Š å·§å¦™æˆ–å¤æ‚çš„ä»£ç æ®µå‰è¦åŠ æ³¨é‡Š æ¯”è¾ƒéšæ™¦çš„åœ°æ–¹è¦åœ¨è¡Œå°¾åŠ å…¥æ³¨é‡Š æ°¸è¿œä¸è¦ ç”¨è‡ªç„¶è¯­è¨€ç¿»è¯‘ä»£ç ä½œä¸ºæ³¨é‡Š å¯¹é‚£äº›ä¸´æ—¶çš„, çŸ­æœŸçš„è§£å†³æ–¹æ¡ˆ, æˆ–å·²ç»å¤Ÿå¥½ä½†ä»ä¸å®Œç¾çš„ä»£ç ä½¿ç”¨ TODO æ³¨é‡Šï¼Œå¹¶åŠ ä¸Šè‡ªå·±èº«ä»½æ ‡è¯† æ ¼å¼ æ¯ä¸€è¡Œä»£ç å­—ç¬¦æ•°ä¸è¶…è¿‡ 80 å°½é‡ä¸ä½¿ç”¨é ASCII å­—ç¬¦, ä½¿ç”¨æ—¶å¿…é¡»ä½¿ç”¨ UTF-8 ç¼–ç  åªä½¿ç”¨ç©ºæ ¼, æ¯æ¬¡ç¼©è¿› 2 ä¸ªç©ºæ ¼ è¿”å›ç±»å‹å’Œå‡½æ•°ååœ¨åŒä¸€è¡Œ, å‚æ•°ä¹Ÿå°½é‡æ”¾åœ¨åŒä¸€è¡Œ, å¦‚æœæ”¾ä¸ä¸‹å°±å¯¹å½¢å‚åˆ†è¡Œ, åˆ†è¡Œæ–¹å¼ä¸ å‡½æ•°è°ƒç”¨ ä¸€è‡´ å¦‚æœèƒ½å¢å¼ºå¯è¯»æ€§, ç®€çŸ­çš„æ¡ä»¶è¯­å¥å…è®¸å†™åœ¨åŒä¸€è¡Œ. åªæœ‰å½“è¯­å¥ç®€å•å¹¶ä¸”æ²¡æœ‰ä½¿ç”¨ else å­å¥æ—¶ä½¿ç”¨ å•è¡Œè¯­å¥ä¸éœ€è¦ä½¿ç”¨å¤§æ‹¬å·, å¦‚æœä½ å–œæ¬¢ç”¨ä¹Ÿæ²¡é—®é¢˜; å¤æ‚çš„æ¡ä»¶æˆ–å¾ªç¯è¯­å¥ç”¨å¤§æ‹¬å·å¯è¯»æ€§ä¼šæ›´å¥½. ä¹Ÿæœ‰ä¸€äº›é¡¹ç›®è¦æ±‚ if å¿…é¡»æ€»æ˜¯ä½¿ç”¨å¤§æ‹¬å· å¦‚æœæœ‰ä¸æ»¡è¶³ case æ¡ä»¶çš„æšä¸¾å€¼, switch åº”è¯¥æ€»æ˜¯åŒ…å«ä¸€ä¸ª default åŒ¹é…ï¼Œå¦‚æœ default åº”è¯¥æ°¸è¿œæ‰§è¡Œä¸åˆ°, ç®€å•çš„åŠ æ¡ assert åœ¨å•è¯­å¥å¾ªç¯é‡Œ, æ‹¬å·å¯ç”¨å¯ä¸ç”¨ ç©ºå¾ªç¯ä½“åº”ä½¿ç”¨ {} æˆ– continue, è€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„åˆ†å· å¥ç‚¹æˆ–ç®­å¤´å‰åä¸è¦æœ‰ç©ºæ ¼. æŒ‡é’ˆ/åœ°å€æ“ä½œç¬¦ (*, \u0026amp;) ä¹‹åä¸èƒ½æœ‰ç©ºæ ¼ å¦‚æœä¸€ä¸ªå¸ƒå°”è¡¨è¾¾å¼è¶…è¿‡ æ ‡å‡†è¡Œå®½, æ–­è¡Œæ–¹å¼è¦ç»Ÿä¸€ä¸€ä¸‹ é¢„å¤„ç†æŒ‡ä»¤ä¸è¦ç¼©è¿›, ä»è¡Œé¦–å¼€å§‹ æ„é€ å‡½æ•°åˆå§‹åŒ–åˆ—è¡¨æ”¾åœ¨åŒä¸€è¡Œæˆ–æŒ‰å››æ ¼ç¼©è¿›å¹¶æ’å¤šè¡Œ å‘½åç©ºé—´å†…å®¹ä¸ç¼©è¿› ä¸¤ä¸ªå‡½æ•°å®šä¹‰ä¹‹é—´çš„ç©ºè¡Œä¸è¦è¶…è¿‡ 2 è¡Œ, å‡½æ•°ä½“é¦–å°¾ä¸è¦ç•™ç©ºè¡Œ, å‡½æ•°ä½“ä¸­ä¹Ÿä¸è¦éšæ„æ·»åŠ ç©ºè¡Œ è§„åˆ™ç‰¹ä¾‹ ä¸è¦ä½¿ç”¨ #pragma once ","date":"2024-09-05T00:00:00Z","image":"https://programcx.github.io/p/c-/cpp_hu4f8d777476dd4c631cf6bb374e06af91_91138_120x120_fill_q75_box_smart1.jpg","permalink":"https://programcx.github.io/p/c-/","title":"C++ ä»£ç è§„èŒƒæ€»ç»“"},{"content":"è¯¥æ–‡ç« ç”¨æ¥è®°å½•javaå­¦ä¹ è¿‡ç¨‹ä¸­çœ‹ä¼¼åº”è¯¥ä¸ä¼šå‘ç”Ÿçš„å¼‚å¸¸\næˆ‘ä»¬æœ‰ä¸€ä¸ª Main.java å’Œ cn/pinsoftstd/Study.javaï¼Œæºä»£ç å¦‚ä¸‹ï¼š\nMain.java:\n1 2 3 4 5 6 7 8 9 10 11 12 import cn.pinsoftstd.study.Study; public class Main { public static void main(String[] args) { Study study=new Study(); study.printHelloWorld(); study.addProgramming(\u0026#34;XiaoMing\u0026#34;); study.addProgramming(\u0026#34;XiaoHong\u0026#34;); study.addProgramming(\u0026#34;LiJun\u0026#34;); study.removeProgramming(\u0026#34;LiJun\u0026#34;);\t//å‘ç”Ÿå¼‚å¸¸ study.printProgramingNames(); } } cn/pinsoftstd/Study.java\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 package cn.pinsoftstd.study; import java.util.ArrayList; import java.util.Iterator; /** * The class study provides an interface for developers to add and remove * the ones who are studying programming or not. * @author Program * @version 1.0 */ public class Study { public Study(){ } /** This prints \u0026#34;Hello World\u0026#34;,which is the person who must print once * study a programming language. * @author Program */ public void printHelloWorld(){ System.out.println(\u0026#34;Hello World\u0026#34;); } /** * This method adds a person to the Study Programming category. */ public Programming addProgramming(String name){ Programming pr=new Programming(name); programmings.add(pr); return pr; } /** * This method removes a person from the Study Programming category. */ public boolean removeProgramming(String name) { boolean removed = false; for (Programming pr : programmings) { if (pr.name.equals(name)) { programmings.remove(pr);\t//å‘ç”Ÿå¼‚å¸¸ removed = true; } } return removed; } /** * This method prints the names of people who are studying programming. */ public void printProgramingNames(){ for(Programming pr:programmings){ System.out.println(pr.name); } } private ArrayList\u0026lt;Programming\u0026gt; programmings=new ArrayList\u0026lt;\u0026gt;(); public class Programming{ private String name; public Programming(String name){ this.name=name; } public String name(){ return this.name; } public void printStudyingProgramming(){ System.out.println(\u0026#34;Study Programming:\u0026#34;+name); } } } è‡ªå·±å†™çš„æ—¶å€™æ„Ÿè§‰æ²¡æœ‰é—®é¢˜ï¼Œç»“æœè¿è¡Œçš„æ—¶å€™æŠ›å‡ºäº† java.ConcurrentModificationException å¼‚å¸¸ã€‚å¼‚å¸¸ä»£ç ä¸ºMain.javaä¸­çš„ study.printProgramingNames();ï¼ŒStudy.javaä¸­çš„programmings.remove(pr);ã€‚ å…¶å®ï¼Œæ˜¯å› ä¸ºåœ¨ Java ä¸­å¢å¼ºå‹forå¾ªç¯ä½¿ç”¨äº†è¿­ä»£å™¨(iterator)éå†ï¼Œå¦‚æœåœ¨éå†çš„æ—¶å€™ä½¿ç”¨äº† study.printProgramingNames();ï¼Œè¿­ä»£å™¨ä¼šæ£€æµ‹åˆ°æ•°ç»„åˆ—è¡¨çš„å˜åŒ–ï¼Œä»è€ŒæŠ›å‡ºjava.util.ConcurrentModificationException å¼‚å¸¸ã€‚\nè§£å†³æ–¹æ³• æ–¹æ³•ä¸€ï¼šä½¿ç”¨è¿­ä»£å™¨éå†programmingsæ•°ç»„åˆ—è¡¨ï¼Œä¸ä½¿ç”¨å¢å¼ºå‹forå¾ªç¯éå†ã€‚ä¸‹é¢æ˜¯ä¿®æ”¹åçš„ä»£ç ï¼š 1 2 3 4 5 6 7 8 9 10 11 12 public boolean removeProgramming(String name) { boolean removed=false; Iterator\u0026lt;Programming\u0026gt;it=programmings.iterator(); while (it.hasNext()){\t//ä½¿ç”¨è¿­ä»£å™¨éå† Programming pr=it.next(); if(pr.name.equals(name)){ it.remove(); removed=true; } } return removed; } æ–¹æ³•äºŒï¼šé€šè¿‡éå†ç´¢å¼•(index)æ¥éå†æ•°ç»„åˆ—è¡¨programmingsã€‚ä¸‹é¢æ˜¯ä¿®æ”¹åçš„ä»£ç :\n1 2 3 4 5 6 7 8 9 10 public boolean removeProgramming(String name) { boolean removed = false; for(int i=0;i\u0026lt;programmings.size();i++){ if(programmings.get(i).name.equals(name)){ programmings.remove(i); removed = true; } } return removed; } ","date":"2024-09-05T00:00:00Z","image":"https://programcx.github.io/p/java/java_hu2582121eb752963b1ceb7fad85fc990d_36519_120x120_fill_q75_box_smart1.jpg","permalink":"https://programcx.github.io/p/java/","title":"Java ä¸€ç§ java.util.ConcurrentModificationException å¼‚å¸¸åŸå› "},{"content":"è¿™ä¸ªåšå®¢ç”¨æ¥å›å¿†è¿™é“é¢˜ç›®ï¼Œæœ¬äººç®—æ³•æ–°æ‰‹\né¢˜ç›®ï¼š åœ¨ç»™å®šçš„ m x n ç½‘æ ¼ grid ä¸­ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š\nå€¼ 0 ä»£è¡¨ç©ºå•å…ƒæ ¼ï¼› å€¼ 1 ä»£è¡¨æ–°é²œæ©˜å­ï¼› å€¼ 2 ä»£è¡¨è…çƒ‚çš„æ©˜å­ã€‚ æ¯åˆ†é’Ÿï¼Œè…çƒ‚çš„æ©˜å­ å‘¨å›´ 4 ä¸ªæ–¹å‘ä¸Šç›¸é‚» çš„æ–°é²œæ©˜å­éƒ½ä¼šè…çƒ‚ã€‚\nè¿”å› ç›´åˆ°å•å…ƒæ ¼ä¸­æ²¡æœ‰æ–°é²œæ©˜å­ä¸ºæ­¢æ‰€å¿…é¡»ç»è¿‡çš„æœ€å°åˆ†é’Ÿæ•°ã€‚å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› -1 ã€‚\nç¤ºä¾‹ 1ï¼š è¾“å…¥ï¼šgrid = [[2,1,1],[1,1,0],[0,1,1]] è¾“å‡ºï¼š4\nç¤ºä¾‹ 2ï¼š è¾“å…¥ï¼šgrid = [[2,1,1],[0,1,1],[1,0,1]] è¾“å‡ºï¼š-1 è§£é‡Šï¼šå·¦ä¸‹è§’çš„æ©˜å­ï¼ˆç¬¬ 2 è¡Œï¼Œ ç¬¬ 0 åˆ—ï¼‰æ°¸è¿œä¸ä¼šè…çƒ‚ï¼Œå› ä¸ºè…çƒ‚åªä¼šå‘ç”Ÿåœ¨ 4 ä¸ªæ–¹å‘ä¸Šã€‚\nç¤ºä¾‹ 3ï¼š è¾“å…¥ï¼šgrid = [[0,2]] è¾“å‡ºï¼š0 è§£é‡Šï¼šå› ä¸º 0 åˆ†é’Ÿæ—¶å·²ç»æ²¡æœ‰æ–°é²œæ©˜å­äº†ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ 0 ã€‚\næç¤ºï¼š\nm == grid.length n == grid[i].length 1 \u0026lt;= m, n \u0026lt;= 10 grid[i][j] ä»…ä¸º 0ã€1 æˆ– 2 è§£é¢˜æ€è·¯ å…ˆéå†æ‰€æœ‰çš„ç½‘æ ¼ï¼Œç»Ÿè®¡æ–°é²œæ©˜å­çš„ä¸ªæ•°ï¼Œå¹¶æŠŠè…çƒ‚çš„æ©˜å­æ·»åŠ åˆ°é˜Ÿåˆ—ã€‚ ä½¿ç”¨å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ï¼Œä¸æ–­æ„ŸæŸ“å››å‘¨çš„æ©˜å­ï¼Œå°†å·²ç»æ„ŸæŸ“è¿‡å…¶ä»–æ©˜å­çš„çƒ‚æ©˜å­ä»é˜Ÿåˆ—ä¸­å¼¹å‡ºï¼ˆä¾¿äºç»Ÿè®¡è¿˜æœ‰å“ªäº›æ©˜å­æ²¡æœ‰æ„ŸæŸ“å…¶ä»–å¥½æ©˜å­ï¼‰ã€‚æ¯æ„ŸæŸ“ä¸€ä¸ªæ©˜å­ï¼Œå°†æ–°é²œæ©˜å­ä¸ªæ•°å‡å»ä¸€ã€‚æ¯æ„ŸæŸ“ä¸€è½®ï¼Œæ—¶é—´åŠ ä¸€ã€‚ æœ€åæ£€æµ‹æ–°é²œçš„æ©˜å­ä¸ªæ•°æ˜¯å¦ä¸ºé›¶ï¼Œå¦‚æœä¸ºé›¶ï¼Œåˆ™è¿”å›æ€»å…±èŠ±å»çš„åˆ†é’Ÿæ•°ï¼›å¦‚æœæ–°é²œçš„æ©˜å­ä¸ªæ•°ä¸ä¸ºé›¶ï¼Œè¯´æ˜è¿˜æœ‰æ©˜å­æ°¸è¿œä¸ä¼šè¢«æ„ŸæŸ“ï¼Œæ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œè¿”å›-1ã€‚ è§£é¢˜ä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 class Solution { public: int orangesRotting(vector\u0026lt;vector\u0026lt;int\u0026gt;\u0026gt;\u0026amp; grid) { int m = grid.size();\t//è®°å½•æ¯ä¸€è¡Œçš„æ©˜å­ä¸ªæ•° if (m == 0) return -1; //å¦‚æœæ²¡æœ‰æ©˜å­ï¼Œç›´æ¥è¿”å›-1 int n = grid[0].size(); //è®°å½•æ¯ä¸€åˆ—æ©˜å­ä¸ªæ•° if (n == 0) return -1; queue\u0026lt;pair\u0026lt;int, int\u0026gt;\u0026gt; q; int fresh = 0; //éå†æ‰€æœ‰ç½‘æ ¼ for (int i = 0; i \u0026lt; m; ++i) { for (int j = 0; j \u0026lt; n; ++j) { if (grid[i][j] == 1) {\t//å¦‚æœä¸ºæ–°é²œæ©˜å­ fresh++;\t//æ–°é²œæ©˜å­ä¸ªæ•°å°±åŠ ä¸€ } if (grid[i][j] == 2) { //å¦‚æœæ©˜å­ä¸æ˜¯æ–°é²œçš„ q.emplace(i, j);\t//å°±æŠŠçƒ‚æ©˜å­æ”¾å…¥é˜Ÿåˆ— } } } //å¼€å§‹å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰ int minutes = 0; vector\u0026lt;pair\u0026lt;int, int\u0026gt;\u0026gt; dirs = { {1,0},{-1,0},{0,1},{0,-1} }; //å®šä¹‰å››ä¸ªæ–¹å‘ while (!q.empty() \u0026amp;\u0026amp; fresh \u0026gt; 0) {\t//å¦‚æœé˜Ÿåˆ—qä¸ä¸ºç©ºä¸”æœ‰æ–°é²œæ©˜å­ int size = q.size();\t//è®°å½•æ‰å¼€å§‹æˆ–å‡ è½®ä¸‹æ¥è¿˜æœ‰å¤šå°‘æœªæ„ŸæŸ“å…¶ä»–æ©˜å­çš„çƒ‚æ©˜å­ for (int k = 0; k \u0026lt; size; ++k) {\t//å¯¹è¿™äº›æ©˜å­è¿›è¡Œéå† auto [i, j] = q.front(); //è·å–é˜Ÿåˆ—ä¸­ç¬¬ä¸€ä¸ªæœªæ„ŸæŸ“å…¶å®ƒæ©˜å­çš„çƒ‚æ©˜å­ q.pop();\t//å°†è¯¥æ©˜å­å¼¹å‡º for (const auto\u0026amp; [x, y] : dirs) {\t//éå†å››ä¸ªæ–¹å‘ int dx = i + x, dy = j + y;\t//è®¡ç®—çƒ‚æ©˜å­å››å‘¨çš„åæ ‡å€¼ if (dx \u0026gt;= 0 \u0026amp;\u0026amp; dx \u0026lt; m \u0026amp;\u0026amp; dy \u0026gt;= 0 \u0026amp;\u0026amp; dy \u0026lt; n \u0026amp;\u0026amp; grid[dx][dy] == 1) {\t//å¦‚æœåœ¨çŸ©é˜µèŒƒå›´å†…ä¸”è¯¥æ©˜å­æ˜¯å¥½æ©˜å­ï¼ˆé¿å…é‡å¤æ„ŸæŸ“å’Œè¶Šç•Œé—®é¢˜ï¼‰ grid[dx][dy] = 2;\t//å°±æ„ŸæŸ“è¿™ä¸ªæ©˜å­ q.emplace(dx, dy); //å°†è¿™ä¸ªæ©˜å­æ·»åŠ åˆ°æœªæ„ŸæŸ“å…¶å®ƒæ©˜å­çš„çƒ‚æ©˜å­çš„é˜Ÿåˆ— fresh--;\t//å¥½æ©˜å­æ•°é‡å°±å‡ä¸€ } } } ++minutes; //è®¡ç®—æ—¶é—´ } return fresh == 0 ? minutes : -1; } }; æäº¤ç»“æœ ","date":"2024-09-05T00:00:00Z","image":"https://programcx.github.io/p/leetcode-%E7%AC%AC994%E9%A2%98-%E8%85%90%E7%83%82%E7%9A%84%E6%A9%98%E5%AD%90/question_hu80ece0439f120d211a32693abd2dfdea_42586_120x120_fill_box_smart1_3.png","permalink":"https://programcx.github.io/p/leetcode-%E7%AC%AC994%E9%A2%98-%E8%85%90%E7%83%82%E7%9A%84%E6%A9%98%E5%AD%90/","title":"LeetCode ç¬¬994é¢˜ è…çƒ‚çš„æ©˜å­"},{"content":"è®°å½•å­¦ä¹ \nå¡«æ¶‚é¢œè‰² é¢˜ç›®æè¿° ç”±æ•°å­— $0$ ç»„æˆçš„æ–¹é˜µä¸­ï¼Œæœ‰ä¸€ä»»æ„å½¢çŠ¶çš„ç”±æ•°å­— $1$ æ„æˆçš„é—­åˆåœˆã€‚ç°è¦æ±‚æŠŠé—­åˆåœˆå†…çš„æ‰€æœ‰ç©ºé—´éƒ½å¡«å†™æˆ $2$ã€‚ä¾‹å¦‚ï¼š$6\\times 6$ çš„æ–¹é˜µï¼ˆ$n=6$ï¼‰ï¼Œæ¶‚è‰²å‰å’Œæ¶‚è‰²åçš„æ–¹é˜µå¦‚ä¸‹ï¼š\nå¦‚æœä»æŸä¸ª $0$ å‡ºå‘ï¼Œåªå‘ä¸Šä¸‹å·¦å³ $4$ ä¸ªæ–¹å‘ç§»åŠ¨ä¸”ä»…ç»è¿‡å…¶ä»– $0$ çš„æƒ…å†µä¸‹ï¼Œæ— æ³•åˆ°è¾¾æ–¹é˜µçš„è¾¹ç•Œï¼Œå°±è®¤ä¸ºè¿™ä¸ª $0$ åœ¨é—­åˆåœˆå†…ã€‚é—­åˆåœˆä¸ä¸€å®šæ˜¯ç¯å½¢çš„ï¼Œå¯ä»¥æ˜¯ä»»æ„å½¢çŠ¶ï¼Œä½†ä¿è¯é—­åˆåœˆå†…çš„ $0$ æ˜¯è¿é€šçš„ï¼ˆä¸¤ä¸¤ä¹‹é—´å¯ä»¥ç›¸äº’åˆ°è¾¾ï¼‰ã€‚\n1 2 3 4 5 6 0 0 0 0 0 0 0 0 0 1 1 1 0 1 1 0 0 1 1 1 0 0 0 1 1 0 0 1 0 1 1 1 1 1 1 1 1 2 3 4 5 6 0 0 0 0 0 0 0 0 0 1 1 1 0 1 1 2 2 1 1 1 2 2 2 1 1 2 2 1 2 1 1 1 1 1 1 1 è¾“å…¥æ ¼å¼ æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° $n(1 \\le n \\le 30)$ã€‚\næ¥ä¸‹æ¥ $n$ è¡Œï¼Œç”± $0$ å’Œ $1$ ç»„æˆçš„ $n \\times n$ çš„æ–¹é˜µã€‚\næ–¹é˜µå†…åªæœ‰ä¸€ä¸ªé—­åˆåœˆï¼Œåœˆå†…è‡³å°‘æœ‰ä¸€ä¸ª $0$ã€‚\nè¾“å‡ºæ ¼å¼ å·²ç»å¡«å¥½æ•°å­— $2$ çš„å®Œæ•´æ–¹é˜µã€‚\næ ·ä¾‹ #1 æ ·ä¾‹è¾“å…¥ #1 1 2 3 4 5 6 7 6 0 0 0 0 0 0 0 0 1 1 1 1 0 1 1 0 0 1 1 1 0 0 0 1 1 0 0 0 0 1 1 1 1 1 1 1 æ ·ä¾‹è¾“å‡º #1 1 2 3 4 5 6 0 0 0 0 0 0 0 0 1 1 1 1 0 1 1 2 2 1 1 1 2 2 2 1 1 2 2 2 2 1 1 1 1 1 1 1 æç¤º å¯¹äº $100%$ çš„æ•°æ®ï¼Œ$1 \\le n \\le 30$ã€‚\næ€è·¯ 1.è¾“å…¥çŸ©é˜µ 2.è¿›è¡ŒBFSæœç´¢ï¼Œæ ‡è®°æœç´¢è¿‡çš„ 3.è¾“å‡ºï¼Œå¦‚æœå€¼ä¸ºé›¶ä¸”æœªè¢«æ ‡è®°ï¼Œåˆ™ä¸€å®šæ˜¯è¢«åŒ…å›´çš„ï¼Œå°±è¾“å‡º2\nä»£ç  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 #include \u0026lt;iostream\u0026gt; #include \u0026lt;queue\u0026gt; using namespace std; struct point { int x = 0; int y = 0; }; queue\u0026lt;point\u0026gt; q; int dx[4] = { -1,1,0,0 }, dy[4] = { 0,0,-1,1 }; int land[35][35] = {0}, mark[35][35] = {0}, n, tmp; int main() { cin \u0026gt;\u0026gt; n; //è¾“å…¥ for (int i = 0; i \u0026lt; n; i++) { for (int j = 0; j \u0026lt; n; j++) { cin \u0026gt;\u0026gt; tmp; if (tmp == 1) { land[i][j] = tmp; } } } //æŠŠèµ·å§‹ç‚¹æ ‡è®°ä¸ºç»è¿‡ mark[0][0] = 1; q.push(point{0,0}); //å¼€å§‹bfsæœç´¢ while (!q.empty())\t//ä¸€ç›´åˆ°æœç´¢å®Œæˆ { point p = q.front();\t//å–å‡ºæœç´¢é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´  q.pop();\t//å¼¹å‡ºç¬¬ä¸€ä¸ªå…ƒç´  //å‰åå·¦å³ for (int i = 0; i \u0026lt; 4; i++) { int x = dx[i] + p.x; int y = dy[i] + p.y; //å¦‚æœè¶Šç•Œï¼Œå°±è·³å‡ºæ­¤æ¬¡å¾ªç¯ if (x \u0026lt; 0 || x \u0026gt; n || y \u0026lt; 0 || y \u0026gt; n ) continue; //å¦‚æœæœªè¢«æœç´¢ä¸”æ•°å€¼ä¸ºé›¶ if (land[x][y] == 0 \u0026amp;\u0026amp; mark[x][y] == 0) { mark[x][y] = 1;\t//æ ‡è®°ä¸ºå·²ç»æœç´¢ q.push(point{ x,y });\t//åŠ å…¥æœç´¢é˜Ÿåˆ— } } } cout \u0026lt;\u0026lt; endl; //éå†çŸ©é˜µ for (int i = 0; i \u0026lt; n; i++) { for (int j = 0; j \u0026lt; n; j++) { //å¦‚æœæ²¡è¢«æœç´¢è¿‡ if (land[i][j] == 0 \u0026amp;\u0026amp; mark[i][j] == 0) { cout \u0026lt;\u0026lt; 2 \u0026lt;\u0026lt; \u0026#34; \u0026#34;;\t//è¯´æ˜è¢«åŒ…å›´ï¼Œåˆ™è¾“å‡º2 } else if (land[i][j] == 1) { cout \u0026lt;\u0026lt; 1 \u0026lt;\u0026lt; \u0026#34; \u0026#34;;\t//1å°±æ˜¯è¾¹ç•Œ } else { cout \u0026lt;\u0026lt; 0 \u0026lt;\u0026lt; \u0026#34; \u0026#34;;\t//å¦åˆ™å°±æ˜¯æœè¿‡çš„0 } } cout \u0026lt;\u0026lt; endl; } return 0; } ","date":"2024-09-05T00:00:00Z","permalink":"https://programcx.github.io/p/%E6%B4%9B%E8%B0%B7-p1162-%E5%A1%AB%E6%B6%82%E9%A2%9C%E8%89%B2-%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/","title":"æ´›è°· P1162 å¡«æ¶‚é¢œè‰² å¹¿åº¦ä¼˜å…ˆæœç´¢"}]